(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{58382:function(e,t,n){"use strict";n.r(t),n.d(t,{Graph:function(){return ii},GraphPage:function(){return ni},default:function(){return ti}});var i=n(30266),r=n(83789),o=n(92809),l=n(80318),a=n(809),s=n.n(a),c=JSON.parse('{"a":{"nodes":[{"tags":["publish"],"properties":{"CATEGORY":"turkishvariome2vcf","ID":"010197ec-1528-42e0-ae30-44da1fcae1eb","BLOCKED":"","ALLTAGS":":publish:","FILE":"/home/bar/org/roam/blog/turkishvariome2vcf.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Converting Turkish Variome data from TSV to VCF","file":"/home/bar/org/roam/blog/turkishvariome2vcf.org","id":"010197ec-1528-42e0-ae30-44da1fcae1eb"},{"tags":["publish"],"properties":{"CATEGORY":"20230614141629-useful_snippets","ID":"0210f33c-d51f-4c6d-b492-a0477901ff28","BLOCKED":"","ALLTAGS":":publish:snippets:","FILE":"/home/bar/org/roam/20230614141629-useful_snippets.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Useful snippets","file":"/home/bar/org/roam/20230614141629-useful_snippets.org","id":"0210f33c-d51f-4c6d-b492-a0477901ff28"},{"tags":["publish"],"properties":{"CATEGORY":"20230613212952-varyant_filtreleme","ID":"06b05d41-9528-4e7f-8dfe-8059e609517a","BLOCKED":"","ALLTAGS":":publish:tez:","FILE":"/home/bar/org/roam/tez/20230613212952-varyant_filtreleme.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Varyant filtreleme","file":"/home/bar/org/roam/tez/20230613212952-varyant_filtreleme.org","id":"06b05d41-9528-4e7f-8dfe-8059e609517a"},{"tags":["publish"],"properties":{"CATEGORY":"20230616122502-linkage_disequilibrium","ID":"142c6717-b09e-453e-952c-d31295a93432","BLOCKED":"","ALLTAGS":":publish:","FILE":"/home/bar/org/roam/20230616122502-linkage_disequilibrium.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Linkage disequilibrium","file":"/home/bar/org/roam/20230616122502-linkage_disequilibrium.org","id":"142c6717-b09e-453e-952c-d31295a93432"},{"tags":["publish"],"properties":{"CATEGORY":"ILAE","ID":"247d56e5-1c93-4ae7-8a6f-ee66f9cd9db2","BLOCKED":"","ALLTAGS":":publish:","FILE":"/home/bar/org/roam/ILAE.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"ILAE S\u0131n\u0131fland\u0131rmas\u0131","file":"/home/bar/org/roam/ILAE.org","id":"247d56e5-1c93-4ae7-8a6f-ee66f9cd9db2"},{"tags":["publish"],"properties":{"CATEGORY":"variantversioncontrol","ID":"253def0c-7294-46b5-bb88-259abc84675b","BLOCKED":"","ALLTAGS":":publish:","FILE":"/home/bar/org/roam/variantversioncontrol.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"variantversioncontrol","file":"/home/bar/org/roam/variantversioncontrol.org","id":"253def0c-7294-46b5-bb88-259abc84675b"},{"tags":["publish"],"properties":{"CATEGORY":"20230612121511-xheterozygosity","ID":"39d54305-6732-4919-b4f2-f69b55142949","BLOCKED":"","ALLTAGS":":publish:snippets:","FILE":"/home/bar/org/roam/20230612121511-xheterozygosity.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"X heterozygosity","file":"/home/bar/org/roam/20230612121511-xheterozygosity.org","id":"39d54305-6732-4919-b4f2-f69b55142949"},{"tags":["publish"],"properties":{"CATEGORY":"20230612235436-index","ROAM_ALIASES":"\\"Tez indeksi\\"","ID":"3b383637-3c75-491f-b598-785ac067fd7d","BLOCKED":"","ALLTAGS":":publish:tez:","FILE":"/home/bar/org/roam/tez/20230612235436-index.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Tez \u0130ndeks","file":"/home/bar/org/roam/tez/20230612235436-index.org","id":"3b383637-3c75-491f-b598-785ac067fd7d"},{"tags":["publish"],"properties":{"CATEGORY":"ngsoneliners","ID":"3c922a30-cac2-4183-bbcf-7f2d66d707c9","BLOCKED":"","ALLTAGS":":blog:publish:","FILE":"/home/bar/org/roam/NGSoneliner/ngsoneliners.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"NGSoneliner","file":"/home/bar/org/roam/NGSoneliner/ngsoneliners.org","id":"3c922a30-cac2-4183-bbcf-7f2d66d707c9"},{"tags":["publish"],"properties":{"CATEGORY":"usefullinks","ID":"3e29e697-3705-4d80-abb5-21efaccca5ff","BLOCKED":"","ALLTAGS":":publish:","FILE":"/home/bar/org/roam/usefullinks.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Useful links","file":"/home/bar/org/roam/usefullinks.org","id":"3e29e697-3705-4d80-abb5-21efaccca5ff"},{"tags":["publish"],"properties":{"CATEGORY":"dna_tamiri","ID":"444c61a0-8762-4857-8b83-f43493c5afc9","BLOCKED":"","ALLTAGS":":publish:DNA_tamir:molecularbiologyofthecell:","FILE":"/home/bar/org/roam/dna_tamiri.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"DNA tamiri","file":"/home/bar/org/roam/dna_tamiri.org","id":"444c61a0-8762-4857-8b83-f43493c5afc9"},{"tags":["publish"],"properties":{"CATEGORY":"20230621140230-tez_wes_x_heterozigotlugu","ID":"4c6b7fe5-9c48-420c-bdc3-823ab8e5a31a","BLOCKED":"","ALLTAGS":":publish:tez:","FILE":"/home/bar/org/roam/tez/20230621140230-tez_wes_x_heterozigotlugu.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Tez WES X heterozigotlu\u011fu","file":"/home/bar/org/roam/tez/20230621140230-tez_wes_x_heterozigotlugu.org","id":"4c6b7fe5-9c48-420c-bdc3-823ab8e5a31a"},{"tags":["publish"],"properties":{"CATEGORY":"20230826150627-nunodelarosaevolutionarydevelopmentalbiology2021","NOTER_DOCUMENT":"/home/bar/Documents/Zotero/storage/62MKIQ5N/Nu\xf1o De La Rosa and M\xfcller - 2021 - Evolutionary Developmental Biology A Reference Gu.pdf","ID":"7bee4522-f690-4d96-ae9f-e340ba9702a1","BLOCKED":"","ALLTAGS":":publish:books:shfm:","FILE":"/home/bar/org/roam/20230826150627-nunodelarosaevolutionarydevelopmentalbiology2021.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"nunodelarosaEvolutionaryDevelopmentalBiology2021","file":"/home/bar/org/roam/20230826150627-nunodelarosaevolutionarydevelopmentalbiology2021.org","id":"7bee4522-f690-4d96-ae9f-e340ba9702a1"},{"tags":["publish"],"properties":{"CATEGORY":"bwa","ID":"85b9f2b2-b1f9-40a3-bf17-1bfa2e800f27","BLOCKED":"","ALLTAGS":":bwa:sequencealignment:publish:compbio:bioinformatics:blog:","FILE":"/home/bar/org/roam/blog/bwa/bwa.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Sequence Alignment from Scratch with BWA","file":"/home/bar/org/roam/blog/bwa/bwa.org","id":"85b9f2b2-b1f9-40a3-bf17-1bfa2e800f27"},{"tags":["publish"],"properties":{"CATEGORY":"exomebedfiles","ID":"9fd76fd1-a6f1-4be3-b7e6-15a92c054b70","BLOCKED":"","ALLTAGS":":publish:blog:","FILE":"/home/bar/org/roam/exomebedfiles.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Why am I seeing this variant now?","file":"/home/bar/org/roam/exomebedfiles.org","id":"9fd76fd1-a6f1-4be3-b7e6-15a92c054b70"},{"tags":["publish"],"properties":{"CATEGORY":"riskbelirlemevegenetikdan\u0131sma","ID":"bf9fc24f-1b83-4be1-b4be-77a84b409399","BLOCKED":"","ALLTAGS":":thompson&thompson:publish:","FILE":"/home/bar/org/roam/riskbelirlemevegenetikdan\u0131sma.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Risk De\u011ferlendirmesi ve Genetik Dan\u0131\u015fma","file":"/home/bar/org/roam/riskbelirlemevegenetikdan\u0131sma.org","id":"bf9fc24f-1b83-4be1-b4be-77a84b409399"},{"tags":["publish"],"properties":{"CATEGORY":"seqmotif","ID":"c9286fb1-c8b3-4878-b0e1-9bf18660265d","BLOCKED":"","ALLTAGS":":publish:compbio:blog:","FILE":"/home/bar/org/roam/blog/seqmotif/seqmotif.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"Gibbs Sampling Algorithm Implementation for Searching DNA Motifs","file":"/home/bar/org/roam/blog/seqmotif/seqmotif.org","id":"c9286fb1-c8b3-4878-b0e1-9bf18660265d"},{"tags":["publish"],"properties":{"CATEGORY":"NER","ID":"d1da4beb-0706-48b0-b3a1-1e8293e68e31","BLOCKED":"","ALLTAGS":":publish:","FILE":"/home/bar/org/roam/NER.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"NER","file":"/home/bar/org/roam/NER.org","id":"d1da4beb-0706-48b0-b3a1-1e8293e68e31"},{"tags":["publish"],"properties":{"CATEGORY":"20230613012642-cnv","ID":"d8ebc26c-115f-40a4-a95c-6810c320e16a","BLOCKED":"","ALLTAGS":":publish:tez:","FILE":"/home/bar/org/roam/tez/20230613012642-cnv.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"CNV","file":"/home/bar/org/roam/tez/20230613012642-cnv.org","id":"d8ebc26c-115f-40a4-a95c-6810c320e16a"},{"tags":["publish"],"properties":{"CATEGORY":"20230828130542-barresidevelopmentalbiology2020","NOTER_DOCUMENT":"/home/bar/Documents/Zotero/storage/347KHYJC/Michael J. F. Barresi_ Scott F. Gilbert - Developmental Biology.pdf","ID":"e574319b-e159-4c6a-80b8-02ed07c570ae","BLOCKED":"","ALLTAGS":":SHFM:publish:","FILE":"/home/bar/org/roam/20230828130542-barresidevelopmentalbiology2020.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"barresiDevelopmentalBiology2020","file":"/home/bar/org/roam/20230828130542-barresidevelopmentalbiology2020.org","id":"e574319b-e159-4c6a-80b8-02ed07c570ae"},{"tags":["publish"],"properties":{"CATEGORY":"crispr","ID":"eeb03060-50dd-4a3c-942b-bcd141d5712d","BLOCKED":"","ALLTAGS":":publish:gene:editing:CRISPR:","FILE":"/home/bar/org/roam/crispr.org","PRIORITY":"B"},"olp":null,"pos":1,"level":0,"title":"CRISPR","file":"/home/bar/org/roam/crispr.org","id":"eeb03060-50dd-4a3c-942b-bcd141d5712d"},{"tags":[null],"properties":{"ROAM_REFS":"cite:torresEnjoySilenceNearly2019","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"torresEnjoySilenceNearly2019","file":"torresEnjoySilenceNearly2019","id":"torresEnjoySilenceNearly2019"},{"tags":[null],"properties":{"ROAM_REFS":"cite:wirrellIntroductionEpilepsySyndrome2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"wirrellIntroductionEpilepsySyndrome2022","file":"wirrellIntroductionEpilepsySyndrome2022","id":"wirrellIntroductionEpilepsySyndrome2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:boyleExpandedViewComplex2017","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"boyleExpandedViewComplex2017","file":"boyleExpandedViewComplex2017","id":"boyleExpandedViewComplex2017"},{"tags":[null],"properties":{"ROAM_REFS":"cite:ellisEpilepsyGeneticsClinical2020","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"ellisEpilepsyGeneticsClinical2020","file":"ellisEpilepsyGeneticsClinical2020","id":"ellisEpilepsyGeneticsClinical2020"},{"tags":[null],"properties":{"ROAM_REFS":"cite:perez-palmaSimpleClinVarInteractive2019","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"perez-palmaSimpleClinVarInteractive2019","file":"perez-palmaSimpleClinVarInteractive2019","id":"perez-palmaSimpleClinVarInteractive2019"},{"tags":[null],"properties":{"ROAM_REFS":"cite:fengUltraRareGeneticVariation2019","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"fengUltraRareGeneticVariation2019","file":"fengUltraRareGeneticVariation2019","id":"fengUltraRareGeneticVariation2019"},{"tags":[null],"properties":{"ROAM_REFS":"cite:manolioFindingMissingHeritability2009","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"manolioFindingMissingHeritability2009","file":"manolioFindingMissingHeritability2009","id":"manolioFindingMissingHeritability2009"},{"tags":[null],"properties":{"ROAM_REFS":"cite:purcellPolygenicBurdenRare2014","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"purcellPolygenicBurdenRare2014","file":"purcellPolygenicBurdenRare2014","id":"purcellPolygenicBurdenRare2014"},{"tags":[null],"properties":{"ROAM_REFS":"cite:nurkCompleteSequenceHuman2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"nurkCompleteSequenceHuman2022","file":"nurkCompleteSequenceHuman2022","id":"nurkCompleteSequenceHuman2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:aganezovCompleteReferenceGenome2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"aganezovCompleteReferenceGenome2022","file":"aganezovCompleteReferenceGenome2022","id":"aganezovCompleteReferenceGenome2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:schefferILAEClassificationEpilepsies2017","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"schefferILAEClassificationEpilepsies2017","file":"schefferILAEClassificationEpilepsies2017","id":"schefferILAEClassificationEpilepsies2017"},{"tags":[null],"properties":{"ROAM_REFS":"cite:100000Genomes2021","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"100000Genomes2021","file":"100000Genomes2021","id":"100000Genomes2021"},{"tags":[null],"properties":{"ROAM_REFS":"cite:trujillanoClinicalExomeSequencing2017","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"trujillanoClinicalExomeSequencing2017","file":"trujillanoClinicalExomeSequencing2017","id":"trujillanoClinicalExomeSequencing2017"},{"tags":[null],"properties":{"ROAM_REFS":"cite:vandersandenPerformanceGenomeSequencing2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"vandersandenPerformanceGenomeSequencing2022","file":"vandersandenPerformanceGenomeSequencing2022","id":"vandersandenPerformanceGenomeSequencing2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:al-dewikClinicalExomeSequencing2019","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"al-dewikClinicalExomeSequencing2019","file":"al-dewikClinicalExomeSequencing2019","id":"al-dewikClinicalExomeSequencing2019"},{"tags":[null],"properties":{"ROAM_REFS":"cite:tsangDiagnosticValueWholeexome2020","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"tsangDiagnosticValueWholeexome2020","file":"tsangDiagnosticValueWholeexome2020","id":"tsangDiagnosticValueWholeexome2020"},{"tags":[null],"properties":{"ROAM_REFS":"cite:yavarnaHighDiagnosticYield2015","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"yavarnaHighDiagnosticYield2015","file":"yavarnaHighDiagnosticYield2015","id":"yavarnaHighDiagnosticYield2015"},{"tags":[null],"properties":{"ROAM_REFS":"cite:mclarenEnsemblVariantEffect2016","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"mclarenEnsemblVariantEffect2016","file":"mclarenEnsemblVariantEffect2016","id":"mclarenEnsemblVariantEffect2016"},{"tags":[null],"properties":{"ROAM_REFS":"cite:richardsStandardsGuidelinesInterpretation2015","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"richardsStandardsGuidelinesInterpretation2015","file":"richardsStandardsGuidelinesInterpretation2015","id":"richardsStandardsGuidelinesInterpretation2015"},{"tags":[null],"properties":{"ROAM_REFS":"cite:phan2020a","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"phan2020a","file":"phan2020a","id":"phan2020a"},{"tags":[null],"properties":{"ROAM_REFS":"cite:korenNovoAssemblyHaplotyperesolved2018","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"korenNovoAssemblyHaplotyperesolved2018","file":"korenNovoAssemblyHaplotyperesolved2018","id":"korenNovoAssemblyHaplotyperesolved2018"},{"tags":[null],"properties":{"ROAM_REFS":"cite:oliverHighDefinitionElectronicGenome2017","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"oliverHighDefinitionElectronicGenome2017","file":"oliverHighDefinitionElectronicGenome2017","id":"oliverHighDefinitionElectronicGenome2017"},{"tags":[null],"properties":{"ROAM_REFS":"cite:kronenbergHighresolutionComparativeAnalysis2018","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"kronenbergHighresolutionComparativeAnalysis2018","file":"kronenbergHighresolutionComparativeAnalysis2018","id":"kronenbergHighresolutionComparativeAnalysis2018"},{"tags":[null],"properties":{"ROAM_REFS":"cite:replogleMappingInformationrichGenotypephenotype2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"replogleMappingInformationrichGenotypephenotype2022","file":"replogleMappingInformationrichGenotypephenotype2022","id":"replogleMappingInformationrichGenotypephenotype2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:AskHNWhy","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"AskHNWhy","file":"AskHNWhy","id":"AskHNWhy"},{"tags":[null],"properties":{"ROAM_REFS":"cite:Lawxml2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"Lawxml2022","file":"Lawxml2022","id":"Lawxml2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:DeutscheBundesgesetzeUnd2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"DeutscheBundesgesetzeUnd2022","file":"DeutscheBundesgesetzeUnd2022","id":"DeutscheBundesgesetzeUnd2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:HowCallCommon2023","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"HowCallCommon2023","file":"HowCallCommon2023","id":"HowCallCommon2023"},{"tags":[null],"properties":{"ROAM_REFS":"cite:liFastAccurateShort2009","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"liFastAccurateShort2009","file":"liFastAccurateShort2009","id":"liFastAccurateShort2009"},{"tags":[null],"properties":{"ROAM_REFS":"cite:ciprianoEverEvolvingConceptGene2018","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"ciprianoEverEvolvingConceptGene2018","file":"ciprianoEverEvolvingConceptGene2018","id":"ciprianoEverEvolvingConceptGene2018"},{"tags":[null],"properties":{"ROAM_REFS":"cite:claussnitzerFTOObesityVariant2015","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"claussnitzerFTOObesityVariant2015","file":"claussnitzerFTOObesityVariant2015","id":"claussnitzerFTOObesityVariant2015"},{"tags":[null],"properties":{"ROAM_REFS":"cite:UnderstandingStatisticsRisk","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"UnderstandingStatisticsRisk","file":"UnderstandingStatisticsRisk","id":"UnderstandingStatisticsRisk"},{"tags":[null],"properties":{"ROAM_REFS":"cite:PolygenicRiskScores","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"PolygenicRiskScores","file":"PolygenicRiskScores","id":"PolygenicRiskScores"},{"tags":[null],"properties":{"ROAM_REFS":"cite:andradeUnderstandingRelativeRisk2015","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"andradeUnderstandingRelativeRisk2015","file":"andradeUnderstandingRelativeRisk2015","id":"andradeUnderstandingRelativeRisk2015"},{"tags":[null],"properties":{"ROAM_REFS":"cite:collisterCalculatingPolygenicRisk2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"collisterCalculatingPolygenicRisk2022","file":"collisterCalculatingPolygenicRisk2022","id":"collisterCalculatingPolygenicRisk2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:choiTutorialGuidePerforming2020","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"choiTutorialGuidePerforming2020","file":"choiTutorialGuidePerforming2020","id":"choiTutorialGuidePerforming2020"},{"tags":[null],"properties":{"ROAM_REFS":"cite:uffelmannGenomewideAssociationStudies2021","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"uffelmannGenomewideAssociationStudies2021","file":"uffelmannGenomewideAssociationStudies2021","id":"uffelmannGenomewideAssociationStudies2021"},{"tags":[null],"properties":{"ROAM_REFS":"cite:IntroductionStatisticalLearning","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"IntroductionStatisticalLearning","file":"IntroductionStatisticalLearning","id":"IntroductionStatisticalLearning"},{"tags":[null],"properties":{"ROAM_REFS":"cite:leuPolygenicBurdenFocal2019","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"leuPolygenicBurdenFocal2019","file":"leuPolygenicBurdenFocal2019","id":"leuPolygenicBurdenFocal2019"},{"tags":[null],"properties":{"ROAM_REFS":"cite:kloeve-mogensenPolygenicRiskScore2021","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"kloeve-mogensenPolygenicRiskScore2021","file":"kloeve-mogensenPolygenicRiskScore2021","id":"kloeve-mogensenPolygenicRiskScore2021"},{"tags":[null],"properties":{"ROAM_REFS":"cite:socialscientistAnswerHowCalculate2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"socialscientistAnswerHowCalculate2022","file":"socialscientistAnswerHowCalculate2022","id":"socialscientistAnswerHowCalculate2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:noahAnswerWhyAre2018","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"noahAnswerWhyAre2018","file":"noahAnswerWhyAre2018","id":"noahAnswerWhyAre2018"},{"tags":[null],"properties":{"ROAM_REFS":"cite:luPolygenicRiskScore2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"luPolygenicRiskScore2022","file":"luPolygenicRiskScore2022","id":"luPolygenicRiskScore2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:campbellRoleCommonGenetic2022","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"campbellRoleCommonGenetic2022","file":"campbellRoleCommonGenetic2022","id":"campbellRoleCommonGenetic2022"},{"tags":[null],"properties":{"ROAM_REFS":"cite:hassaninClinicallyRelevantCombined2023","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"hassaninClinicallyRelevantCombined2023","file":"hassaninClinicallyRelevantCombined2023","id":"hassaninClinicallyRelevantCombined2023"},{"tags":[null],"properties":{"ROAM_REFS":"cite:darstCombinedEffectPolygenic2021","FILELESS":true},"olp":null,"pos":0,"level":0,"title":"darstCombinedEffectPolygenic2021","file":"darstCombinedEffectPolygenic2021","id":"darstCombinedEffectPolygenic2021"}],"links":[{"type":"cite","target":"torresEnjoySilenceNearly2019","source":"e0bc0a36-6852-4bf4-916e-74b1b058b2ae"},{"type":"cite","target":"wirrellIntroductionEpilepsySyndrome2022","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"boyleExpandedViewComplex2017","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"ellisEpilepsyGeneticsClinical2020","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"boyleExpandedViewComplex2017","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"perez-palmaSimpleClinVarInteractive2019","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"fengUltraRareGeneticVariation2019","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"manolioFindingMissingHeritability2009","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"purcellPolygenicBurdenRare2014","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"nurkCompleteSequenceHuman2022","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"aganezovCompleteReferenceGenome2022","source":"7cda0c2c-9c87-4c38-aa72-615de3406028"},{"type":"cite","target":"schefferILAEClassificationEpilepsies2017","source":"247d56e5-1c93-4ae7-8a6f-ee66f9cd9db2"},{"type":"cite","target":"100000Genomes2021","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"trujillanoClinicalExomeSequencing2017","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"vandersandenPerformanceGenomeSequencing2022","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"al-dewikClinicalExomeSequencing2019","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"tsangDiagnosticValueWholeexome2020","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"yavarnaHighDiagnosticYield2015","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"mclarenEnsemblVariantEffect2016","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"richardsStandardsGuidelinesInterpretation2015","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"phan2020a","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"korenNovoAssemblyHaplotyperesolved2018","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"oliverHighDefinitionElectronicGenome2017","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"kronenbergHighresolutionComparativeAnalysis2018","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"replogleMappingInformationrichGenotypephenotype2022","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"AskHNWhy","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"Lawxml2022","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"DeutscheBundesgesetzeUnd2022","source":"253def0c-7294-46b5-bb88-259abc84675b"},{"type":"cite","target":"HowCallCommon2023","source":"79b066a6-bf48-4e19-90b2-111c555700f6"},{"type":"cite","target":"liFastAccurateShort2009","source":"85b9f2b2-b1f9-40a3-bf17-1bfa2e800f27"},{"type":"cite","target":"ciprianoEverEvolvingConceptGene2018","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"claussnitzerFTOObesityVariant2015","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"UnderstandingStatisticsRisk","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"PolygenicRiskScores","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"andradeUnderstandingRelativeRisk2015","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"collisterCalculatingPolygenicRisk2022","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"collisterCalculatingPolygenicRisk2022","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"choiTutorialGuidePerforming2020","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"uffelmannGenomewideAssociationStudies2021","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"IntroductionStatisticalLearning","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"leuPolygenicBurdenFocal2019","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"kloeve-mogensenPolygenicRiskScore2021","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"socialscientistAnswerHowCalculate2022","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"noahAnswerWhyAre2018","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"luPolygenicRiskScore2022","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"campbellRoleCommonGenetic2022","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"hassaninClinicallyRelevantCombined2023","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"cite","target":"darstCombinedEffectPolygenic2021","source":"4f11f64d-efc7-4691-8477-35593f9344b7"},{"type":"id","target":"60197625-b208-477f-b8c5-66aa15522489","source":"e0bc0a36-6852-4bf4-916e-74b1b058b2ae"},{"type":"id","target":"d8ebc26c-115f-40a4-a95c-6810c320e16a","source":"d8ebc26c-115f-40a4-a95c-6810c320e16a"},{"type":"id","target":"0210f33c-d51f-4c6d-b492-a0477901ff28","source":"39d54305-6732-4919-b4f2-f69b55142949"},{"type":"id","target":"444c61a0-8762-4857-8b83-f43493c5afc9","source":"d1da4beb-0706-48b0-b3a1-1e8293e68e31"},{"type":"id","target":"d1da4beb-0706-48b0-b3a1-1e8293e68e31","source":"444c61a0-8762-4857-8b83-f43493c5afc9"},{"type":"id","target":"8da130b8-1c86-4ab7-b336-4963a017784a","source":"06b05d41-9528-4e7f-8dfe-8059e609517a"},{"type":"id","target":"42e44f63-7e98-4b5a-99c5-234df8646d2c","source":"06b05d41-9528-4e7f-8dfe-8059e609517a"},{"type":"id","target":"44c146ec-c19f-4571-bd56-70ba6b8e873e","source":"8da130b8-1c86-4ab7-b336-4963a017784a"},{"type":"id","target":"b60cf17f-ea11-446a-82c7-a13244081b9d","source":"8da130b8-1c86-4ab7-b336-4963a017784a"},{"type":"id","target":"42e44f63-7e98-4b5a-99c5-234df8646d2c","source":"8da130b8-1c86-4ab7-b336-4963a017784a"},{"type":"id","target":"b60cf17f-ea11-446a-82c7-a13244081b9d","source":"8da130b8-1c86-4ab7-b336-4963a017784a"},{"type":"id","target":"39d54305-6732-4919-b4f2-f69b55142949","source":"8da130b8-1c86-4ab7-b336-4963a017784a"},{"type":"id","target":"42e44f63-7e98-4b5a-99c5-234df8646d2c","source":"79b066a6-bf48-4e19-90b2-111c555700f6"},{"type":"id","target":"d8ebc26c-115f-40a4-a95c-6810c320e16a","source":"79b066a6-bf48-4e19-90b2-111c555700f6"},{"type":"id","target":"44c146ec-c19f-4571-bd56-70ba6b8e873e","source":"f0f2b6d3-1e4b-4a22-86fc-3479ece45f12"},{"type":"id","target":"d8ebc26c-115f-40a4-a95c-6810c320e16a","source":"f0f2b6d3-1e4b-4a22-86fc-3479ece45f12"},{"type":"id","target":"8da130b8-1c86-4ab7-b336-4963a017784a","source":"3b383637-3c75-491f-b598-785ac067fd7d"},{"type":"id","target":"5da15176-8e92-4356-bce2-1feff7ddc24b","source":"3b383637-3c75-491f-b598-785ac067fd7d"},{"type":"id","target":"247d56e5-1c93-4ae7-8a6f-ee66f9cd9db2","source":"3b383637-3c75-491f-b598-785ac067fd7d"},{"type":"id","target":"42e44f63-7e98-4b5a-99c5-234df8646d2c","source":"3b383637-3c75-491f-b598-785ac067fd7d"},{"type":"id","target":"4c6b7fe5-9c48-420c-bdc3-823ab8e5a31a","source":"3b383637-3c75-491f-b598-785ac067fd7d"},{"type":"id","target":"5474bd21-8c9f-4d1e-a972-4da88a3652df","source":"3e29e9a5-dd31-44f0-b60f-e2de4e495da9"},{"type":"id","target":"b60cf17f-ea11-446a-82c7-a13244081b9d","source":"a76cd35a-e255-4d50-b9ba-a973f801ae7a"},{"type":"id","target":"39d54305-6732-4919-b4f2-f69b55142949","source":"4c6b7fe5-9c48-420c-bdc3-823ab8e5a31a"},{"type":"id","target":"b60cf17f-ea11-446a-82c7-a13244081b9d","source":"4c6b7fe5-9c48-420c-bdc3-823ab8e5a31a"},{"type":"id","target":"42e44f63-7e98-4b5a-99c5-234df8646d2c","source":"4c6b7fe5-9c48-420c-bdc3-823ab8e5a31a"}],"tags":["tez","expression","epilepsi","DNA","Developmental","Biology","SHFM","publish","thompson&thompson","snippets","gene","editing","CRISPR","DNA_tamir","molecularbiologyofthecell","blog","tezyaz\u0131","giri\u015f","plink","SNP","compbio","bwa","sequencealignment","bioinformatics","draft","books","shfm"]}}'),d=n(97375),u=n(68527),h=n(47398),g=n(68921),p=n(105),f=n(27549),b=n(74376),x=n(52596),v=n(9008),m=n(67294),y=n(32802),j=n.n(y),C=n(47516),O=n(63750),S=n(22003),w=n(31122),k=n(7520),I=n(36194),E=[],L={};for(var R in I.oY)for(var N in I.oY[R]){var P=R+N;"LinearNone"===P&&(P="Linear"),E.push(P),L[P]=I.oY[R][N]}var D=L,B={enabled:!0,charge:-700,collision:!0,collisionStrength:20,centering:!0,centeringStrength:.2,linkStrength:.3,linkIts:1,alphaDecay:.05,alphaTarget:0,alphaMin:0,velocityDecay:.25,gravity:.3,gravityOn:!0,gravityLocal:!1},F={orphans:!1,dailies:!1,parent:"heading",filelessCites:!1,tagsBlacklist:[],tagsWhitelist:[],dirsBlocklist:[],dirsAllowlist:[],bad:!0,nodes:[],links:[],date:[],noter:!0},A={method:"degree"},T={particles:!1,particlesNumber:0,particlesWidth:4,arrows:!1,arrowsLength:1,arrowsPos:.5,arrowsColor:"",linkOpacity:.8,linkWidth:1,nodeRel:3,nodeOpacity:1,nodeResolution:12,labels:2,labelScale:1.5,labelFontSize:10,labelLength:40,labelWordWrap:25,labelLineSpace:1,labelDynamicDegree:8,labelDynamicStrength:.5,highlight:!0,highlightNodeSize:1.1,highlightLinkSize:.7,highlightFade:.8,highlightAnim:!0,animationSpeed:360,algorithmOptions:E,algorithmName:"CircularOut",linkColorScheme:"gray.500",nodeColorScheme:["red.500","gray.600","yellow.500","green.500","cyan.500","blue.500","pink.500","purple.500","orange.500"],nodeHighlight:"purple.500",linkHighlight:"purple.500",backgroundColor:"white",emacsNodeColor:"gray.800",labelTextColor:"black",labelBackgroundColor:"",labelBackgroundOpacity:.7,citeDashes:!0,citeDashLength:35,citeGapLength:15,citeLinkColor:"gray.700",citeLinkHighlightColor:"",citeNodeColor:"black",refDashes:!0,refDashLength:35,refGapLength:15,refLinkColor:"gray.700",refLinkHighlightColor:"",refNodeColor:"black",nodeSizeLinks:.5,nodeZoomSize:1.2},z={follow:"zoom",localSame:"add",zoomPadding:200,zoomSpeed:2e3},H={highlight:"hover",local:"double",follow:"never",context:"right",preview:"click",backgroundExitsLocal:!1},M={neighbors:1},Z=["red.500","orange.500","yellow.500","green.500","cyan.500","blue.500","pink.500","purple.500","white","gray.100","gray.200","gray.300","gray.400","gray.500","gray.600","gray.700","gray.800","gray.900","black"],G=n(57324),_=n(90232),W=n(52072);function V(e,t,n){n.send(JSON.stringify({command:e,data:t}))}function Y(e,t){V("open",{id:e.id},t)}var q=n(10219),U=n(44592),K=n(38554),X=n.n(K),Q=n(53869),J=n(99860);function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te={ease:[.25,.1,.25,1],easeIn:[.4,0,1,1],easeOut:[0,0,.2,1],easeInOut:[.4,0,.2,1]};var ne=function(e,t){return ee(ee({},e),{},{delay:(0,U.hj)(t)?t:null===t||void 0===t?void 0:t.enter})},ie=function(e,t){return ee(ee({},e),{},{delay:(0,U.hj)(t)?t:null===t||void 0===t?void 0:t.exit})},re=n(85893),oe=["in","unmountOnExit","animateOpacity","startingSize","endingSize","dimension","style","className","transition","transitionEnd"];function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var se=function(e){return null!=e&&parseInt(e.toString(),10)>0},ce={exit:{size:{duration:.2,ease:te.ease},opacity:{duration:.3,ease:te.ease}},enter:{size:{duration:.3,ease:te.ease},opacity:{duration:.4,ease:te.ease}}},de={exit:function(e){var t,n,i=e.animateOpacity,r=e.startingSize,l=e.transition,a=e.transitionEnd,s=e.delay,c=e.dimension;return ae(ae({},i&&{opacity:se(r)?1:0}),{},(n={overflow:"hidden"},(0,o.Z)(n,c,r),(0,o.Z)(n,"transitionEnd",null===a||void 0===a?void 0:a.exit),(0,o.Z)(n,"transition",null!==(t=null===l||void 0===l?void 0:l.exit)&&void 0!==t?t:ie(ce.exit,s)),n))},enter:function(e){var t,n,i=e.animateOpacity,r=e.endingSize,l=e.transition,a=e.transitionEnd,s=e.delay,c=e.dimension;return ae(ae({},i&&{opacity:1}),{},(n={},(0,o.Z)(n,c,r),(0,o.Z)(n,"transitionEnd",null===a||void 0===a?void 0:a.enter),(0,o.Z)(n,"transition",null!==(t=null===l||void 0===l?void 0:l.enter)&&void 0!==t?t:ne(ce.enter,s)),n))}},ue=m.forwardRef((function(e,t){var n=e.in,i=e.unmountOnExit,r=e.animateOpacity,o=void 0===r||r,a=e.startingSize,s=void 0===a?0:a,c=e.endingSize,d=void 0===c?"auto":c,u=e.dimension,h=void 0===u?"height":u,g=e.style,p=e.className,f=e.transition,b=e.transitionEnd,x=(0,q.Z)(e,oe),v=m.useState(!1),y=(0,l.Z)(v,2),j=y[0],C=y[1];m.useEffect((function(){var e=setTimeout((function(){C(!0)}));return function(){return clearTimeout(e)}}),[]),(0,U.ZK)({condition:Boolean(s>0&&i),message:"startingSize and unmountOnExit are mutually exclusive. You can't use them together"});var O=parseFloat(s.toString())>0,S={startingSize:s,endingSize:d,animateOpacity:o,dimension:h,transition:j?f:{enter:{duration:0}},transitionEnd:X()(b,{enter:{overflow:"initial"},exit:i?void 0:{display:O?"block":"none"}})},w=!i||n,k=n||i?"enter":"exit";return(0,re.jsx)(Q.M,{initial:!1,custom:S,children:w&&(0,re.jsx)(J.E.div,ae(ae({ref:t},x),{},{className:(0,U.cx)("chakra-collapse",p),style:ae({overflow:"hidden",display:"block"},g),custom:S,variants:de,initial:!!i&&"exit",animate:k,exit:"exit"}))})}));function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}U.Ts&&(ue.displayName="Collapse");var pe=function(e){var t=e.setTagColors,n=e.setFilter,i=e.filter,l=e.tagColors,a=e.target,s=i.tagsBlacklist,c=i.tagsWhitelist,h=s.indexOf(a)>-1,g=c.indexOf(a)>-1,p=(0,d.qY)();return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(G.sN,{icon:(0,re.jsx)(u.Box,{bgColor:l[a],borderRadius:"sm",height:3,width:3,borderColor:l[a]||"gray.600",borderWidth:1}),closeOnSelect:!1,onClick:p.onToggle,children:(0,re.jsx)(u.Text,{children:"Change color"})}),(0,re.jsx)(ue,{in:p.isOpen,children:(0,re.jsxs)(u.Flex,{ml:2,mt:2,flexWrap:"wrap",children:[(0,re.jsx)(u.Box,{children:(0,re.jsx)(u.Box,{tabIndex:0,cursor:"pointer",onClick:function(){return t((function(e){return Object.fromEntries(Object.keys(e).filter((function(e){return e!==a})).map((function(t){return[t,e[t]]})))}))},bgColor:"",m:1,borderRadius:"sm",borderColor:"gray.600",borderWidth:1,height:3,width:3})},"empty"),Z.map((function(e){return(0,re.jsx)(u.Box,{children:(0,re.jsx)(u.Box,{tabIndex:0,cursor:"pointer",onClick:function(){return t(ge(ge({},l),{},(0,o.Z)({},a,e)))},bgColor:e,m:1,borderRadius:"sm",height:3,width:3})},e)}))]})}),!g&&(0,re.jsx)(G.sN,{onClick:function(){n(h?function(e){return ge(ge({},e),{},{tagsBlacklist:e.tagsBlacklist.filter((function(e){return e!==a}))})}:function(e){return ge(ge({},e),{},{tagsBlacklist:[].concat((0,r.Z)(e.tagsBlacklist),[a])})})},icon:h?(0,re.jsx)(W.MinusIcon,{}):(0,re.jsx)(W.ViewOffIcon,{}),children:h?"Remove from blocklist":"Add to blocklist"}),!h&&(0,re.jsx)(G.sN,{onClick:function(){n(g?function(e){return ge(ge({},e),{},{tagsWhitelist:e.tagsWhitelist.filter((function(e){return e!==a}))})}:function(e){return ge(ge({},e),{},{tagsWhitelist:[].concat((0,r.Z)(e.tagsWhitelist),[a])})})},icon:g?(0,re.jsx)(W.MinusIcon,{}):(0,re.jsx)(W.ViewIcon,{}),children:g?"Remove from allowlist":"Add to allowlist"})]})},fe=function(e){e.background;var t,n,i=e.target,r=(e.nodeType,e.coordinates),o=e.handleLocal,l=e.menuClose,a=e.scope,s=e.webSocket,c=e.setPreviewNode,h=e.setTagColors,p=e.tagColors,f=e.setFilter,b=e.filter,x=(0,d.qY)(),v=x.isOpen,y=x.onOpen,j=x.onClose;(0,m.useRef)();return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(G.v2,{defaultIsOpen:!0,closeOnBlur:!1,onClose:function(){return l()},children:(0,re.jsx)(G.qy,{zIndex:"overlay",bgColor:"white",color:"black",position:"absolute",left:r.left,top:r.top,right:r.right,bottom:r.bottom,fontSize:"xs",boxShadow:"xl",children:"string"!==typeof i?(0,re.jsxs)(re.Fragment,{children:[i&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(u.Heading,{size:"xs",isTruncated:!0,px:3,py:1,children:i.title}),(0,re.jsx)(G.R,{borderColor:"gray.500"})]}),0!==a.nodeIds.length&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(G.sN,{onClick:function(){return o(i,"add")},icon:(0,re.jsx)(W.PlusSquareIcon,{}),children:"Expand local graph at node"}),(0,re.jsx)(G.sN,{onClick:function(){return o(i,"replace")},icon:(0,re.jsx)(C.DvO,{}),children:"Open local graph for this node"}),(0,re.jsx)(G.sN,{onClick:function(){return o(i,"remove")},icon:(0,re.jsx)(W.MinusIcon,{}),children:"Exclude node from local graph"})]}),null!==i&&void 0!==i&&null!==(t=i.properties)&&void 0!==t&&t.FILELESS?(0,re.jsx)(G.sN,{icon:(0,re.jsx)(W.AddIcon,{}),onClick:function(){return function(e,t){V("create",{id:e.id,title:e.title,ref:e.properties.ROAM_REFS},t)}(i,s)},children:"Create node"}):(0,re.jsx)(G.sN,{icon:(0,re.jsx)(W.EditIcon,{}),onClick:function(){return Y(i,s)},children:"Open in Emacs"}),(null===i||void 0===i||null===(n=i.properties)||void 0===n?void 0:n.ROAM_REFS)&&(0,re.jsx)(G.sN,{icon:(0,re.jsx)(W.ExternalLinkIcon,{}),children:"Open in Zotero"}),0===a.nodeIds.length&&(0,re.jsx)(G.sN,{icon:(0,re.jsx)(C.DvO,{}),onClick:function(){return o(i,"replace")},children:"Open local graph"}),(0,re.jsx)(G.sN,{icon:(0,re.jsx)(W.ViewIcon,{}),onClick:function(){c(i)},children:"Preview"}),0===(null===i||void 0===i?void 0:i.level)&&(0,re.jsx)(G.sN,{closeOnSelect:!1,icon:(0,re.jsx)(W.DeleteIcon,{color:"red.500"}),color:"red.500",onClick:y,children:"Permanently delete note"})]}):(0,re.jsx)(pe,{target:i,tagColors:p,filter:b,setTagColors:h,setFilter:f})})}),"string"!==typeof i&&(0,re.jsxs)(_.u_,{isCentered:!0,isOpen:v,onClose:j,children:[(0,re.jsx)(_.ZA,{}),(0,re.jsxs)(_.hz,{zIndex:"popover",children:[(0,re.jsx)(_.xB,{children:"Delete node?"}),(0,re.jsx)(_.ol,{}),(0,re.jsx)(_.fe,{children:(0,re.jsxs)(u.VStack,{spacing:4,display:"flex",alignItems:"flex-start",children:[(0,re.jsx)(u.Text,{children:"This will permanently delete your note:"}),(0,re.jsx)(u.Text,{fontWeight:"bold",children:null===i||void 0===i?void 0:i.title}),0!==(null===i||void 0===i?void 0:i.level)&&(0,re.jsx)(u.Text,{children:"This will only delete the from this heading until but not including the next node. Your parent file and all other nodes will not be deleted."}),(0,re.jsx)(u.Text,{children:"Are you sure you want to do continue?"})]})}),(0,re.jsxs)(_.mz,{children:[(0,re.jsx)(g.Button,{mr:3,onClick:function(){console.log("closing"),j(),l()},children:"Cancel"}),(0,re.jsx)(g.Button,{variant:"link",colorScheme:"red",ml:3,onClick:function(){console.log("aaaaa"),function(e,t){0===e.level&&V("delete",{id:e.id,file:e.file},t)}(i,s),j(),l()},children:"Delete node"})]})]})]})]})},be=n(5434),xe=n(51649),ve=function(e){var t=e.setJustification,n=(e.setIndent,e.setFont,e.justification),i=(e.setPreviewNode,e.canUndo),r=e.canRedo,o=(e.resetPreviewNode,e.previousPreviewNode),l=e.nextPreviewNode,a=e.outline,s=e.setOutline,c=e.collapse,d=e.setCollapse;return(0,re.jsxs)(u.Flex,{flex:"0 1 40px",pb:3,alignItems:"center",justifyContent:"space-between",pr:1,children:[(0,re.jsx)(u.Flex,{children:(0,re.jsxs)(g.ButtonGroup,{isAttached:!0,children:[(0,re.jsx)(h.u,{label:"Go backward",children:(0,re.jsx)(g.IconButton,{_focus:{},variant:"subtle",icon:(0,re.jsx)(W.ChevronLeftIcon,{}),"aria-label":"Previous node",disabled:!i,onClick:function(){return o()}})}),(0,re.jsx)(h.u,{label:"Go forward",children:(0,re.jsx)(g.IconButton,{_focus:{},variant:"subtle",icon:(0,re.jsx)(W.ChevronRightIcon,{}),"aria-label":"Next node",disabled:!r,onClick:function(){return l()}})})]})}),(0,re.jsxs)(u.Flex,{children:[(0,re.jsx)(h.u,{label:"Justify content",children:(0,re.jsx)(g.IconButton,{variant:"subtle","aria-label":"Justify content",icon:[(0,re.jsx)(C.v9V,{},"justify"),(0,re.jsx)(C.YSr,{},"left"),(0,re.jsx)(C.RXA,{},"right"),(0,re.jsx)(C.tr_,{},"center")][n],onClick:function(){return t((function(e){return(e+1)%4}))}})}),(0,re.jsx)(h.u,{label:"Toggle outline view",children:(0,re.jsx)(g.IconButton,{variant:"subtle","aria-label":"Justify content",icon:a?(0,re.jsx)(xe.XQM,{}):(0,re.jsx)(xe.JfF,{}),onClick:function(){return s((function(e){return!e}))}})}),(0,re.jsx)(h.u,{label:"Toggle headers",children:(0,re.jsx)(g.IconButton,{variant:"subtle","aria-label":"Toggle headers",icon:c?(0,re.jsx)(be.omV,{}):(0,re.jsx)(be.egf,{}),onClick:function(){return d((function(e){return!e}))}})})]})]})},me=n(96356);function ye(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ye(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=function(e){var t,n,i,o=e.filter,l=e.setFilter,a=e.tagColors,s=(e.setTagColors,e.openContextMenu),c=e.previewNode;return null!==c&&void 0!==c&&c.tags&&null!==(null===c||void 0===c||null===(t=c.tags)||void 0===t?void 0:t[0])?(0,re.jsx)(u.Flex,{mb:2,flexWrap:"wrap",children:null===c||void 0===c||null===(n=c.tags)||void 0===n||null===(i=n.map)||void 0===i?void 0:i.call(n,(function(e){var t,n,i,c=null!==(t=o.tagsBlacklist)&&void 0!==t?t:[],d=null!==(n=o.tagsWhitelist)&&void 0!==n?n:[],u=c.includes(e),h=d.includes(e);return(0,re.jsxs)(me.Tag,{tabIndex:0,mr:2,mt:2,onContextMenu:function(t){t.preventDefault(),s(e,t)},cursor:"pointer",onClick:function(){l(u?function(t){return je(je({},t),{},{tagsBlacklist:t.tagsBlacklist.filter((function(t){return t!==e})),tagsWhitelist:[].concat((0,r.Z)(t.tagsWhitelist),[e])})}:h?function(t){return je(je({},t),{},{tagsWhitelist:t.tagsWhitelist.filter((function(t){return t!==e}))})}:function(t){return je(je({},t),{},{tagsBlacklist:[].concat((0,r.Z)(t.tagsBlacklist),[e])})})},size:"sm",variant:"outline",colorScheme:(null===(i=a[e])||void 0===i?void 0:i.replaceAll(/(.*?)\..*/g,"$1"))||void 0,children:[(0,re.jsx)(me.TagLabel,{children:e}),u?(0,re.jsx)(me.TagRightIcon,{as:W.ViewOffIcon}):h?(0,re.jsx)(me.TagRightIcon,{as:W.ViewIcon}):null]},e)}))}):null},Oe=n(18835),Se=n.n(Oe),we=n(13816),ke=n.n(we),Ie=n(42728),Ee=n.n(Ie),Le=n(77890),Re=n.n(Le),Ne=n(94986),Pe=n.n(Ne),De=n(88541),Be=n.n(De),Fe=n(71167),Ae=n.n(Fe),Te=(n(85062),n(27431)),ze=n.n(Te),He=n(12861),Me=n.n(He),Ze=n(10043),Ge=n.n(Ze),_e=n(80816),We=n(93545),Ve=n.n(We),Ye=n(15941),qe=n.n(Ye),Ue=n(67597),Ke=n.n(Ue),Xe=n(44549),Qe=n.n(Xe),Je=n(78818),$e=n.n(Je),et=n(32095),tt=n(46871),nt=n(29356),it={".headingFlex":{flexDirection:"row-reverse",justifyContent:"flex-end"},".outlineHeadingButton":{display:"none"},h1:{color:"black",lineHeight:"1.2",fontSize:"16",fontWeight:"bold",paddingTop:2},h2:{fontSize:"14",color:"black",fontWeight:"bold",fontStyle:"bold italic",paddingTop:2},h3:{fontSize:"13",color:"black",paddingTop:2},h4:{fontSize:"12",fontStyle:"italic",color:"black",paddingTop:2},".sectionContent":{paddingTop:2}},rt={".headingFlex":{flexDirection:"row",justifyContent:"flex-start"},".viewerHeadingButton":{display:"none"},".sectionContent":{mt:3,paddingLeft:4,ml:"11px",borderLeftWidth:"1px",borderLeftColor:"gray.500"},".preHeadingContent":{},"h1,h2,h3,h4,h5,h6,h7,h8":{pl:1,lineHeight:"1.25",color:"black",fontSize:15,fontWeight:700},".sec":{pt:1},".wrapClass > div > p":{mb:2},p:{fontWeight:500,fontSize:14,pb:2}},ot={".katex":{overflowX:"scroll"},ol:{paddingLeft:4,py:1},"li::marker":{fontSize:12,fontWeight:"bold"},li:{pt:1},ul:{paddingLeft:"5"},p:{fontSize:"14",fontWeight:"500 !important",pb:2},div:{hyphens:"auto !important"},".title":{textAlign:"center",marginBottom:".2em"},".subtitle":{textAlign:"center",fontSize:"medium",fontWeight:"bold",marginTop:0},".TODO":{color:"red.500"},".equationContainer":{display:"table",textAlign:"center",width:"100%"},".equation":{verticalAlign:"middle"},".equation-label":{display:"tableCell",textAlign:"right",verticalAlign:"middle"},".inlinetask":{padding:"10px",border:"2px solid gray",margin:"10px",background:"#ffffcc"},"#org-div-home-and-up":{textAlign:"right",fontSize:"70 % ",whiteSpace:"nowrap"},textarea:{overflowX:"auto"},".linenr":{fontSize:"smaller"},".org-info-js_info-navigation":{borderStyle:"none"},"#org-info-js_console-label":{fontSize:"10px",fontWeight:"bold",whiteSpace:"nowrap"},".org-info-js_search-highlight":{backgroundColor:"#ffff00",color:"#000000",fontWeight:"bold"},".org-svg":{width:"90%"},".DONE":{color:"green"},".priority":{fontFamily:"monospace",color:"orange"},".tag":{backgroundColor:"white",fontFamily:"monospace",padding:"2px",fontSize:"80%",fontWeight:"normal"},".timestamp":{color:"#bebebe"},".timestamp-kwd":{color:"#5f9ea0"},".org-right":{marginLeft:"auto",marginRight:"0px",textAlign:"right"},".org-left":{marginLeft:"0px",marginRight:"auto",textAlign:"left"},".org-center":{marginLeft:"auto",marginRight:"auto",textAlign:"center"},".underline":{textDecoration:"underline"},"#postamble p":{fontSize:"90%",margin:".2em"},"#preamble p":{fontSize:"90%",margin:".2em"},"p.verse":{marginLeft:"3%"},pre:{borderRadius:"3px",backgroundColor:"white",padding:"8pt",fontFamily:"monospace",overflow:"auto",margin:"1.2em"},"pre.src":{position:"relative",overflow:"auto"},"pre.src:before":{display:"none",position:"absolute",top:"-8px",right:"12px",padding:"3px",backgroundColor:"white"},"caption.t-above":{captionSide:"top"},"caption.t-bottom":{captionSide:"bottom"},"th.org-right":{textAlign:"center"},"th.org-left":{textAlign:"center"},"th.org-center":{textAlign:"center"},"td.org-right":{textAlign:"right"},"td.org-left":{textAlign:"left"},"td.org-center":{textAlign:"center"},".footpara":{display:"inline"},".footdef":{marginBottom:"1em"},".figure":{padding:"1em"},".figure p":{textAlign:"center"},".math.math-display .katex":{overflow:"auto",minHeight:"1.5em"}},lt=n(86658),at=function(e,t){return e.split(".").reduce((function(e,t){return e[t]}),t.colors)},st=["style"];function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ut=function(e){var t=e.noUnderline,n=e.id,i=e.setSidebarHighlightedNode,r=e.setPreviewNode,o=e.nodeById,l=e.openContextMenu,a=e.href,s=e.children,c=e.isWiki,d=(0,m.useContext)(nt.N).highlightColor,h=(0,p.Fg)(),g=at(d,h),f=(a.replaceAll(/(.*?)\:?.*/g,"$1"),a.replaceAll(/.*?\:(.*)/g,"$1")),b=null!==n&&void 0!==n?n:f,x=c?"[[".concat(s,"]]"):s;return(0,re.jsx)(u.Text,{as:"a",onMouseEnter:function(){return i(o[b])},onMouseLeave:function(){return i({})},tabIndex:0,display:"inline",overflow:"hidden",fontWeight:500,color:d,textDecoration:t?void 0:"underline",onContextMenu:function(e){e.preventDefault(),l(o[f],e)},onClick:function(){return r(o[f])},_hover:{textDecoration:"none",cursor:"pointer",bgColor:g+"22"},_focus:{outlineColor:d},children:x})},ht=function(e){var t=e.href,n=e.children,i=(0,m.useContext)(nt.N).highlightColor;return(0,re.jsxs)(u.Link,{color:i,isExternal:!0,href:t,children:[n,(0,re.jsx)(W.ExternalLinkIcon,{mx:"1px",pb:"2px"})]})},gt=function(e){var t,n=e.href,i=e.children,r=e.nodeById,o=e.setSidebarHighlightedNode,l=e.previewNode,a=e.setPreviewNode,s=e.nodeByCite,c=e.openContextMenu,d=e.outline,h=e.noUnderline,g=e.linksByNodeId,p=e.isWiki,f=e.macros,b=e.attachDir,x=e.useInheritance,v=(0,m.useState)(null),y=v[0],j=v[1],C=(0,m.useState)(!1),O=C[0],S=C[1],w=n.replaceAll(/(.*?)\:.*/g,"$1"),k=d?rt:it;console.log(l);if((0,m.useEffect)((function(){w.replaceAll(/(http)?.*/g,"$1")||y||O&&fetch("notes/".concat(P)).then((function(e){return e.text()})).then((function(e){"error"===e||j(e)})).catch((function(e){return console.log(e),"Could not fetch the text for some reason, sorry!\n\n This can happen because you have an id with forward slashes (/) in it."}))}),[O,y]),!w)return(0,re.jsx)(u.Text,{color:"gray.700",children:i});if(w.replaceAll(/(http)?.*/g,"$1"))return(0,re.jsx)(ht,{href:n,children:i});var I,E,L,R,N=n.replaceAll(/.*?\:(.*)/g,"$1"),P=function(e,t){if("id"===e)return t;if(e.includes("cite")){var n,i=null!==(n=s[t])&&void 0!==n&&n;return i?null!==i&&void 0!==i&&i.properties.FILELESS?"":null===i||void 0===i?void 0:i.id:""}return""}(w,N);encodeURIComponent(encodeURIComponent(null===(t=r[P])||void 0===t?void 0:t.file));return P?(0,re.jsx)(re.Fragment,{children:(0,re.jsxs)(et.J2,{gutter:12,trigger:"hover",placement:"top-start",children:[(0,re.jsx)(et.xo,{children:(0,re.jsx)(u.Box,{display:"inline",onMouseEnter:function(){return S(!0)},onMouseLeave:function(){return S(!1)},children:(0,re.jsx)(ut,{id:P,setSidebarHighlightedNode:o,setPreviewNode:a,nodeById:r,href:n,children:i,nodeByCite:s,openContextMenu:c,noUnderline:h,isWiki:p},null!==(I=null===(E=r[P])||void 0===E?void 0:E.title)&&void 0!==I?I:P)})}),(0,re.jsx)(tt.h_,{children:(0,re.jsxs)(et.yk,{transform:"scale(1)",boxShadow:"xl",position:"relative",zIndex:"tooltip",onMouseEnter:function(){var e;o(null!==(e=r[P])&&void 0!==e?e:{})},onMouseLeave:function(){o({})},children:[(0,re.jsx)(et.QH,{}),(0,re.jsx)(et.b,{pb:5,fontSize:"xs",position:"relative",zIndex:"tooltip",transform:"scale(1)",width:"100%",children:(0,re.jsx)(lt.$B,{autoHeight:!0,autoHeightMax:300,autoHide:!0,renderThumbVertical:function(e){var t=e.style,n=(0,q.Z)(e,st);return(0,re.jsx)(u.Box,dt({style:dt(dt({},t),{},{borderRadius:0})},n))},children:(0,re.jsx)(u.Box,{w:"100%",color:"black",px:3,sx:dt(dt({},ot),k),children:(0,re.jsx)(St,{previewText:y,nodeById:r,setSidebarHighlightedNode:o,setPreviewNode:a,nodeByCite:s,openContextMenu:c,outline:d,linksByNodeId:g,macros:f,attachDir:b,useInheritance:x,previewNode:r[P],collapse:!1})})})})]},null!==(L=null===(R=r[P])||void 0===R?void 0:R.title)&&void 0!==L?L:P)})]})}):(0,re.jsx)(u.Text,{as:"span",display:"inline",className:n,color:"base.700",cursor:"not-allowed",children:i})},pt=n(25675),ft=n(62520),bt=n.n(ft),xt=function(e){var t=e.src,n=e.file;if(t.replaceAll(/(http)?.*/g,"$1"))return console.log(t.replaceAll(/(http)?.*/g,"$1")),(0,re.jsx)(pt.default,{layout:"responsive",loader:function(e){var t=e.src;return e.width,e.quality,"".concat(t)},src:t,alt:"",width:"auto",height:"auto"});var i=t.replaceAll(/file:/g,""),r=bt().dirname(n),o=bt().isAbsolute(i)||"~"===i.slice(0,1)?i:bt().join(r,i);encodeURIComponent(encodeURIComponent(o));return(0,re.jsx)(u.Container,{my:4,position:"relative",children:(0,re.jsx)("img",{alt:"Wow, an image.",src:i})})},vt=n(14578),mt=(0,m.createContext)({outline:!1,collapse:!0}),yt=function(e){var t=e.children,n=e.className,i=(0,m.useState)(!0),r=i[0],o=i[1],l=(0,m.useContext)(mt).collapse;if((0,m.useEffect)((function(){o(!l)}),[l]),"h0Wrapper headingWrapper"===n)return(0,re.jsxs)(u.Box,{className:"preHeadingContent",children:[" ",t]});var a=t;return(0,re.jsxs)(u.Box,{className:"sec",children:[(0,re.jsx)(u.Box,{display:"block",children:(0,re.jsxs)(u.Flex,{className:"headingFlex",alignItems:"baseline",children:[r&&a.length>0?(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(g.IconButton,{className:"viewerHeadingButton",_focus:{},_active:{},"aria-label":"Expand heading",size:"xs",variant:"subtle",icon:(0,re.jsx)(W.ChevronUpIcon,{}),onClick:function(){return o(!r)},height:2,width:2}),(0,re.jsx)(g.IconButton,{className:"outlineHeadingButton",_focus:{},_active:{},"aria-label":"Expand heading",size:"xs",variant:"subtle",icon:(0,re.jsx)(vt.zOz,{}),onClick:function(){return o(!r)},height:2,width:2})]}):(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(g.IconButton,{className:"viewerHeadingButton",_active:{},_focus:{},"aria-label":"Collapse heading",height:2,width:2,size:"xs",variant:"subtle",icon:(0,re.jsx)(W.ChevronDownIcon,{}),onClick:function(){return o(!r)}}),(0,re.jsx)(g.IconButton,{className:"outlineHeadingButton",_active:{},_focus:{},"aria-label":"Collapse heading",height:2,width:2,size:"xs",variant:"subtle",icon:(0,re.jsx)(vt.O6Y,{}),onClick:function(){return o(!r)}})]}),a[0]]})}),r&&(0,re.jsx)(u.Box,{className:"sectionContent",children:a.slice(1)})]})};function jt(e){return["object"===typeof e.source?e.source.id:e.source,"object"===typeof e.target?e.target.id:e.target]}function Ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ct(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St=function(e){var t,n,i=e.nodeById,r=e.setSidebarHighlightedNode,l=e.setPreviewNode,a=e.previewText,s=e.nodeByCite,c=e.previewNode,d=e.openContextMenu,h=e.outline,g=e.collapse,f=e.linksByNodeId,b=e.macros,x=e.attachDir,v=e.useInheritance;if(!c||!f)return null;var y=Se()().use(ke()).use(Pe()).use(Be(),{idDir:x||void 0,useInheritance:v}).use(Re()).use(Ee(),{useSections:!0}),j=(null===(t=f[null===c||void 0===c?void 0:c.id])||void 0===t?void 0:t.reduce((function(e,t){var n=jt(t).filter((function(e){return e!==c.id})).join("");return Ot(Ot({},e),{},(0,o.Z)({},n,i[n]))}),{}))||{},C=Object.entries(j),O=Se()().use(Me()).use(qe(),["yaml"]).use(Ke()).use(_e.Z,{permaLinks:Object.keys(j),pageResolver:function(e){var t,n=C.find((function(t){var n;return(null===t||void 0===t||null===(n=t[1])||void 0===n?void 0:n.title)===e}));return[null!==(t=null===n||void 0===n?void 0:n[0])&&void 0!==t?t:""]},hrefTemplate:function(e){return"id:".concat(e)}}).use(Qe()).use(Ve()).use(Ge()).use($e()),S=".md"===(null===c||void 0===c||null===(n=c.file)||void 0===n?void 0:n.slice(-3)),w=S?O:y,k=(0,m.useMemo)((function(){return w.use(Ae(),{trust:function(e){return["\\htmlId","\\href"].includes(e.command)},macros:Ot({"\\eqref":"\\href{###1}{(\\text{#1})}","\\ref":"\\href{###1}{\\text{#1}}","\\label":"\\htmlId{#1}{}"},b)}).use(ze(),{createElement:m.createElement,components:{a:function(e){var t=e.children,n=e.href;return(0,re.jsx)(gt,{nodeByCite:s,setSidebarHighlightedNode:r,href:"".concat(n),nodeById:i,linksByNodeId:f,setPreviewNode:l,openContextMenu:d,outline:h,previewNode:c,isWiki:S,macros:b,attachDir:x,useInheritance:v,children:t})},img:function(e){var t=e.src;return(0,re.jsx)(xt,{src:t,file:null===c||void 0===c?void 0:c.file})},section:function(e){var t=e.children,n=e.className;return n&&n.slice(-1)==="".concat(c.level)?(0,re.jsx)(u.Box,{children:t.slice(1)}):(0,re.jsx)(yt,{outline:h,collapse:g,className:n,children:t})},blockquote:function(e){var t=e.children;return(0,re.jsx)(p.m$.blockquote,{color:"gray.800",bgColor:"gray.300",pt:4,pb:2,mb:4,mt:3,pl:4,borderLeftWidth:4,borderLeftColor:"gray.700",children:t})},p:function(e){var t=e.children;return(0,re.jsx)("p",{lang:"en",children:t})}}})}),[null===c||void 0===c?void 0:c.id]),I=(0,m.useMemo)((function(){return k.processSync(a).result}),[a]);return(0,re.jsx)(mt.Provider,{value:{collapse:g,outline:h},children:I})},wt=function(e){var t=e.openContextMenu,n=e.setSidebarHighlightedNode,i=e.nodeById,r=e.nodeByCite,o=e.previewNode,l=e.setPreviewNode,a=e.outline,s=e.collapse,c=e.linksByNodeId,d=e.macros,u=e.attachDir,h=e.useInheritance,g=(0,m.useState)(""),p=g[0],f=g[1],b=encodeURIComponent(encodeURIComponent(o.id));return(0,m.useEffect)((function(){fetch("notes/".concat(b)).then((function(e){return e.ok?e.text():null})).then((function(e){if(e){if(""===e)return"(empty node)";f(e)}else f("")})).catch((function(e){return f("(could not find node)"),console.log(e),"Could not fetch the text for some reason, sorry!\n\n This can happen because you have an id with forward slashes (/) in it."}))}),[o.id]),(0,re.jsx)(re.Fragment,{children:p&&o&&(0,re.jsx)(St,{nodeById:i,previewNode:o,setPreviewNode:l,previewText:p,nodeByCite:r,setSidebarHighlightedNode:n,openContextMenu:t,outline:a,collapse:s,linksByNodeId:c,attachDir:u,useInheritance:h,macros:d||{}})})},kt=function(e){var t,n=e.previewNode,i=e.setPreviewNode,r=e.setSidebarHighlightedNode,o=e.nodeById,a=e.linksByNodeId,s=e.nodeByCite,c=e.openContextMenu,d=e.outline,h=e.macros,g=e.attachDir,p=e.useInheritance,f=(null!==(t=a[null===n||void 0===n?void 0:n.id])&&void 0!==t?t:[]).filter((function(e){var t=jt(e),i=(0,l.Z)(t,2),r=i[0];i[1];return r!==(null===n||void 0===n?void 0:n.id)})).map((function(e){return e.source}));return(0,re.jsxs)(u.Box,{className:"backlinks",borderRadius:"sm",mt:6,p:4,bg:"white",mb:10,children:[(0,re.jsx)("p",{style:{fontSize:16,fontWeight:600},children:"Linked references (".concat(f.length,")")}),(0,re.jsx)(u.VStack,{py:2,spacing:3,alignItems:"start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(null===n||void 0===n?void 0:n.id)&&f.map((function(e){var t,l,f;t=null===(l=o[e])||void 0===l?void 0:l.title;return(0,re.jsx)(u.Box,{overflow:"hidden",py:1,borderRadius:"sm",width:"100%",children:(0,re.jsx)(gt,{linksByNodeId:a,nodeByCite:s,setSidebarHighlightedNode:r,href:"id:".concat(e),nodeById:o,previewNode:n,setPreviewNode:i,openContextMenu:c,outline:d,noUnderline:!0,attachDir:g,useInheritance:p,macros:h,children:null===(f=o[e])||void 0===f?void 0:f.title})},e)}))})]})};function It(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?It(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):It(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=function(e){var t=e.setPreviewNode,n=e.justificationList,i=e.justification,r=e.previewNode,o=e.nodeById,l=e.nodeByCite,a=e.setSidebarHighlightedNode,s=e.linksByNodeId,c=e.openContextMenu,d=e.outline,h=e.collapse,g=e.macros,p=e.attachDir,f=e.useInheritance,b=d?rt:it;return(0,re.jsx)(u.Box,{pr:8,pt:2,height:"100%",className:"org",sx:Et(Et(Et({},ot),b),{},{textAlign:n[i]}),children:(null===r||void 0===r?void 0:r.id)&&(0,re.jsxs)(u.Flex,{className:"wrapClass",height:"100%",flexDirection:"column",justifyContent:"space-between",children:[(0,re.jsx)(wt,{setPreviewNode:t,previewNode:r,nodeByCite:l,setSidebarHighlightedNode:a,openContextMenu:c,outline:d,collapse:h,nodeById:o,linksByNodeId:s,macros:g,attachDir:p,useInheritance:f}),(0,re.jsx)(kt,{setPreviewNode:t,previewNode:r,nodeById:o,linksByNodeId:s,nodeByCite:l,setSidebarHighlightedNode:a,openContextMenu:c,outline:d,attachDir:p,useInheritance:f,macros:g||{}})]})})},Rt=function(e){var t=e.previewNode;return(0,re.jsx)(u.Flex,{maxW:"90%",children:(0,re.jsx)(u.Heading,{lineHeight:1.2,size:"md",fontWeight:600,pt:4,children:null===t||void 0===t?void 0:t.title})})},Nt=n(29119);function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Bt(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Ft(e,null!==(n=i.storage)&&void 0!==n?n:localStorage),o=r.get(),l=void 0!==o?o:t,a=null!=o&&"object"===typeof o&&!1===Array.isArray(o)?Dt(Dt({},t),o):l;a!==o&&r.update(a);var s=(0,m.useState)(a),c=s[0],d=s[1];(0,m.useEffect)((function(){c!==a&&d(a)}),[e]);var u=function(e){e instanceof Function?d((function(t){var n=e(t);return r.update(n),n})):(d(e),r.update(e))};return[c,u]}function Ft(e,t){return{get:function(){var n=t.getItem(e);if(n&&"undefined"!==n)return JSON.parse(n)},update:function(n){t.setItem(e,JSON.stringify(n))},remove:function(){t.removeItem(e)}}}var At=["style"];function Tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Tt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ht=function(e){var t=e.isOpen,n=e.onOpen,i=e.onClose,r=e.previewNode,o=e.setPreviewNode,a=e.nodeById,s=e.linksByNodeId,c=e.nodeByCite,d=e.setSidebarHighlightedNode,h=e.canUndo,p=e.canRedo,f=e.resetPreviewNode,b=e.previousPreviewNode,x=e.nextPreviewNode,v=e.openContextMenu,y=(e.scope,e.setScope,e.windowWidth),j=e.filter,O=e.setFilter,S=e.tagColors,w=e.setTagColors,k=e.macros,I=e.attachDir,E=e.useInheritance,L=((0,m.useContext)(nt.N).highlightColor,(0,m.useState)()),R=L[0],N=L[1],P=Bt("sidebarWidth",400),D=(0,l.Z)(P,2),B=D[0],F=D[1];(0,m.useEffect)((function(){null!==r&&void 0!==r&&r.id?(n(),N(r)):i()}),[null===r||void 0===r?void 0:r.id]);var A=Bt("justification",1),T=(0,l.Z)(A,2),z=T[0],H=T[1],M=Bt("outline",!1),Z=(0,l.Z)(M,2),G=Z[0],_=Z[1],W=(0,m.useState)("sans serif"),V=(W[0],W[1]),Y=(0,m.useState)(0),U=(Y[0],Y[1]),K=(0,m.useState)(!1),X=K[0],Q=K[1];return(0,re.jsx)(ue,{animateOpacity:!1,dimension:"width",in:t,unmountOnExit:!0,startingSize:0,style:{height:"100vh"},children:(0,re.jsx)(Nt.e,{size:{height:"100vh",width:B},onResizeStop:function(e,t,n,i){F((function(e){return e+i.width}))},enable:{top:!1,right:!1,bottom:!1,left:!0,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},minWidth:"220px",maxWidth:y-200,children:(0,re.jsxs)(u.Flex,{flexDir:"column",h:"100vh",pl:2,color:"black",bg:"alt.100",width:"100%",children:[(0,re.jsxs)(u.Flex,{pl:2,alignItems:"center",color:"black",width:"100%",children:[(0,re.jsx)(u.Flex,{pt:1,flexShrink:0,children:(0,re.jsx)(ve,{setJustification:H,setIndent:U,setFont:V,justification:z,setPreviewNode:o,canUndo:h,canRedo:p,resetPreviewNode:f,previousPreviewNode:b,nextPreviewNode:x,outline:G,setOutline:_,collapse:X,setCollapse:Q})}),(0,re.jsx)(u.Flex,{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",onContextMenu:function(e){e.preventDefault(),v(r,e)}}),(0,re.jsx)(u.Flex,{flexDir:"row",ml:"auto",children:(0,re.jsx)(g.IconButton,{m:1,icon:(0,re.jsx)(C.T41,{}),"aria-label":"Options",variant:"subtle",onClick:function(e){v(r,e,{left:void 0,top:12,right:20-y,bottom:void 0})}})})]}),(0,re.jsx)(lt.$B,{autoHide:!0,renderThumbVertical:function(e){var t=e.style,n=(0,q.Z)(e,At);return(0,re.jsx)(u.Box,zt({style:zt(zt({},t),{},{borderRadius:0})},n))},children:R&&(0,re.jsxs)(u.VStack,{flexGrow:1,alignItems:"left",bg:"alt.100",paddingLeft:4,children:[(0,re.jsx)(Rt,{previewNode:R}),(0,re.jsx)(Ce,{filter:j,setFilter:O,tagColors:S,setTagColors:w,openContextMenu:v,previewNode:r}),(0,re.jsx)(Lt,{setPreviewNode:o,previewNode:r,nodeById:a,nodeByCite:c,setSidebarHighlightedNode:d,justification:z,justificationList:["justify","start","end","center"],linksByNodeId:s,openContextMenu:v,outline:G,setOutline:_,collapse:X,macros:k,attachDir:I,useInheritance:E})]})})]})})})},Mt=n(94090),Zt=n(88696),Gt=n(47647);function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Wt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=function(e){var t,n=e.filter,i=e.listName,r=e.labelFilter,l=e.displayName,a=e.setFilter,s=e.options,c=void 0===s?[]:s,d=(0,m.useContext)(nt.N).highlightColor,u=(null===c||void 0===c?void 0:c.map((function(e){return{value:e,label:r?e.replace(r,""):e}})))||[],h=(0,m.useState)((null===(t=n[i])||void 0===t?void 0:t.map((function(e){return{value:e,label:r?null===e||void 0===e?void 0:e.replace(r,""):e}})))||[]),g=h[0],p=h[1];return(0,re.jsx)(Gt.CUIAutoComplete,{labelStyleProps:{fontWeight:300,fontSize:14},items:u,label:"Add tag to ".concat(l),placeholder:" ",onCreateItem:function(e){return null},disableCreateItem:!0,selectedItems:g,onSelectedItemsChange:function(e){e.selectedItems&&(p(e.selectedItems),a(Wt(Wt({},n),{},(0,o.Z)({},i,e.selectedItems.map((function(e){return e.value}))))))},listItemStyleProps:{overflow:"hidden"},highlightItemBg:"gray.400",toggleButtonStyleProps:{variant:"outline"},inputStyleProps:{mt:2,height:8,focusBorderColor:d,color:"gray.800",borderColor:"gray.500"},tagStyleProps:{justifyContent:"flex-start",fontSize:10,borderColor:d,borderWidth:1,borderRadius:"md",color:d,bg:"",height:4,mb:2},hideToggleButton:!0,itemRenderer:function(e){return e.label}})};function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ut=function(e){var t=e.colorList,n=e.tagColors,i=e.setTagColors,r=e.highlightColor,l=e.tags.map((function(e){return{value:e,label:e}})),a=(0,m.useState)(Object.keys(n).map((function(e){return{value:e,label:e}}))),s=a[0],c=a[1];return(0,re.jsxs)(u.Box,{children:[(0,re.jsx)(Gt.CUIAutoComplete,{items:l,labelStyleProps:{fontWeight:300,fontSize:14},label:"Add tag to color",placeholder:" ",disableCreateItem:!0,selectedItems:s,onSelectedItemsChange:function(e){e.selectedItems&&(c(Array.from(new Set(e.selectedItems))),i(Object.fromEntries(Array.from(new Set(e.selectedItems)).map((function(e){var t;return[e.label,null!==(t=n[e.label])&&void 0!==t?t:"gray.600"]})))))},listItemStyleProps:{overflow:"hidden"},highlightItemBg:"gray.400",toggleButtonStyleProps:{variant:"outline"},inputStyleProps:{height:8,focusBorderColor:r,color:"gray.800",borderColor:"gray.500"},tagStyleProps:{display:"none",rounded:"full",bg:r,height:8,paddingLeft:4,fontWeight:"bold"},hideToggleButton:!0,itemRenderer:function(e){return e.label}}),(0,re.jsx)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:Object.keys(n).map((function(e){return(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",width:"100%",pl:2,children:[(0,re.jsx)(u.Box,{width:"100%",children:(0,re.jsx)(u.Text,{children:e})}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,colorScheme:"",color:"black",children:(0,re.jsx)(u.Box,{bgColor:n[e],borderRadius:"sm",height:6,width:6})}),(0,re.jsx)(tt.h_,{children:(0,re.jsx)(G.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:t.map((function(t){return(0,re.jsx)(G.sN,{onClick:function(){return i(qt(qt({},n),{},(0,o.Z)({},e,t)))},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Box,{bgColor:t,borderRadius:"sm",height:6,width:6})},t)}))})})]}),(0,re.jsx)(g.IconButton,{"aria-label":"Delete tag color",variant:"ghost",icon:(0,re.jsx)(W.DeleteIcon,{}),onClick:function(){i(Object.fromEntries(Array.from(new Set(s)).map((function(e){var t;return[e.label,null!==(t=n[e.label])&&void 0!==t?t:"gray.600"]})))),c(s.filter((function(t){return t.value!==e})))}})]},e)}))})]})},Kt=n(80918),Xt=function(e){var t=e.infoText;return(0,re.jsx)(u.Box,{paddingLeft:"1",children:(0,re.jsx)(h.u,{label:t,placement:"top",color:"gray.100",bg:"gray.800",hasArrow:!0,children:(0,re.jsx)(W.InfoOutlineIcon,{})})})},Qt=["min","max","step","value"],Jt=function(e){var t=e.min,n=void 0===t?0:t,i=e.max,r=void 0===i?10:i,o=e.step,l=void 0===o?.1:o,a=e.value,s=void 0===a?1:a,c=(0,q.Z)(e,Qt),d=c.onChange,g=c.label,p=c.infoText,f=(0,m.useContext)(nt.N).highlightColor;return(0,re.jsxs)(u.Box,{pt:1,pb:2,children:[(0,re.jsxs)(u.Box,{display:"flex",alignItems:"flex-end",mb:2,children:[(0,re.jsx)(u.Text,{children:g}),p&&(0,re.jsx)(Xt,{infoText:p})]}),(0,re.jsxs)(Kt.iR,{value:s,onChange:d,min:n,max:r,step:l,children:[(0,re.jsx)(Kt.Uj,{children:(0,re.jsx)(Kt.Ms,{})}),(0,re.jsx)(h.u,{bg:f,label:s.toFixed(1),children:(0,re.jsx)(Kt.gs,{bg:"white"})})]})]},g)},$t=(0,m.createContext)({subDirs:["dailies",".attach"],attachDir:".attach",useInheritance:!1,roamDir:"~/org",dailyDir:"dailies"});function en(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?en(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):en(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var nn=function(e){var t=e.filter,n=e.setFilter,i=e.local,r=e.setLocal,o=e.tagColors,l=e.setTagColors,a=e.highlightColor,s=e.colorList,c=e.tags,d=(0,m.useContext)($t),h=d.roamDir,p=d.subDirs;return(0,re.jsxs)(u.Box,{children:[(0,re.jsxs)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:7,color:"gray.800",children:[(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Link children to"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),colorScheme:"",color:"black",size:"sm",children:function(){switch(t.parent){case"parent":return(0,re.jsx)(u.Text,{children:"File"});case"heading":return(0,re.jsx)(u.Text,{children:"Heading"});default:return(0,re.jsx)(u.Text,{children:"Nothing"})}}()}),(0,re.jsx)(tt.h_,{children:(0,re.jsxs)(G.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,re.jsx)(G.sN,{onClick:function(){return n((function(e){return tn(tn({},e),{},{parent:""})}))},children:"Nothing"}),(0,re.jsx)(G.sN,{onClick:function(){return n((function(e){return tn(tn({},e),{},{parent:"parent"})}))},children:"Parent file node"}),(0,re.jsx)(G.sN,{onClick:function(){return n((function(e){return tn(tn({},e),{},{parent:"heading"})}))},children:"Next highest heading node"})]})})]})]}),(0,re.jsxs)(u.Flex,{justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Orphans"}),(0,re.jsx)(Zt.r,{onChange:function(){n((function(e){return tn(tn({},e),{},{orphans:!e.orphans})}))},isChecked:t.orphans})]}),(0,re.jsxs)(u.Flex,{justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Dailies"}),(0,re.jsx)(Zt.r,{onChange:function(){n((function(e){return tn(tn({},e),{},{dailies:!e.dailies})}))},isChecked:t.dailies})]}),(0,re.jsxs)(u.Flex,{justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Org-noter pages"}),(0,re.jsx)(Zt.r,{onChange:function(){n((function(e){return tn(tn({},e),{},{noter:!e.noter})}))},isChecked:t.noter})]}),(0,re.jsxs)(u.Flex,{justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Citations without note files"}),(0,re.jsx)(Zt.r,{onChange:function(){n(tn(tn({},t),{},{filelessCites:!t.filelessCites}))},isChecked:t.filelessCites})]}),(0,re.jsxs)(u.Flex,{justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Non-existent nodes"}),(0,re.jsx)(Zt.r,{onChange:function(){l(tn(tn({},o),{},{bad:"white"})),n(tn(tn({},t),{},{bad:!t.bad}))},isChecked:t.bad})]}),(0,re.jsx)(Jt,{label:"Number of neighbors in local graph",value:i.neighbors,onChange:function(e){return r(tn(tn({},i),{},{neighbors:e}))},min:1,max:5,step:1})]}),(0,re.jsxs)(Mt.UQ,{padding:0,allowToggle:!0,allowMultiple:!0,paddingLeft:3,children:[(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:["Directory filters",(0,re.jsx)(Mt.XE,{})]}),(0,re.jsxs)(Mt.Hk,{pr:0,mr:0,children:[(0,re.jsx)(Vt,{filter:t,setFilter:n,options:p,displayName:"directory blocklist",listName:"dirsBlocklist",labelFilter:h}),(0,re.jsx)(Vt,{filter:t,setFilter:n,options:p,displayName:"directory allowlist",listName:"dirsAllowlist",labelFilter:h})]})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:["Tag filters",(0,re.jsx)(Mt.XE,{})]}),(0,re.jsxs)(Mt.Hk,{pr:0,mr:0,children:[(0,re.jsx)(Vt,{filter:t,setFilter:n,options:c,displayName:"tag blocklist",listName:"tagsBlacklist"}),(0,re.jsx)(Vt,{filter:t,setFilter:n,options:c,displayName:"tag allowlist",listName:"tagsWhitelist"})]})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:["Tag colors",(0,re.jsx)(Mt.XE,{})]}),(0,re.jsx)(Mt.Hk,{pr:0,mr:0,children:(0,re.jsx)(Ut,{tags:c,colorList:s,tagColors:o,setTagColors:l,highlightColor:a})})]})]})]})},rn=n(37496),on=function(e){var t=e.value,n=e.onChange,i=e.label,r=e.infoText,o=e.children;return(0,re.jsxs)(u.Box,{paddingTop:2,children:[(0,re.jsxs)(u.Box,{display:"flex",justifyContent:"space-between",paddingBottom:2,children:[(0,re.jsxs)(u.Box,{display:"flex",alignItems:"center",children:[(0,re.jsx)(u.Text,{children:i}),r&&(0,re.jsx)(Xt,{infoText:r})]}),(0,re.jsx)(Zt.r,{isChecked:!!t,onChange:n})]}),(0,re.jsx)(rn.UO,{in:!!t,animateOpacity:!0,children:(0,re.jsx)(u.Box,{paddingLeft:4,paddingTop:2,paddingBottom:2,children:o})})]},i)};function ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function an(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ln(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn=function(e){var t=e.physics,n=e.setPhysics,i=(0,m.useCallback)((function(e,t,i){n((function(n){return an(an({},n),{},(0,o.Z)({},t,e/i))}))}),[]);return(0,re.jsxs)(u.Box,{children:[(0,re.jsxs)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:7,color:"gray.800",children:[(0,re.jsxs)(on,{label:"Gravity",value:t.gravityOn,onChange:function(){return n(an(an({},t),{},{gravityOn:!t.gravityOn}))},children:[(0,re.jsxs)(u.Flex,{justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Also in local"}),(0,re.jsx)(Zt.r,{onChange:function(){n((function(e){return an(an({},e),{},{gravityLocal:!e.gravityLocal})}))},isChecked:t.gravityLocal})]}),(0,re.jsx)(Jt,{label:"Strength",value:10*t.gravity,onChange:function(e){return i(e,"gravity",10)}})]}),(0,re.jsx)(Jt,{value:-t.charge/100,onChange:function(e){return i(e,"charge",-.01)},label:"Repulsive Force"}),(0,re.jsx)(Jt,{value:5*t.linkStrength,onChange:function(e){return i(e,"linkStrength",5)},label:"Link Force"}),(0,re.jsx)(Jt,{label:"Stabilization rate",value:50*t.alphaDecay,onChange:function(e){return i(e,"alphaDecay",50)}})]}),(0,re.jsx)(u.Box,{children:(0,re.jsx)(Mt.UQ,{paddingLeft:3,allowToggle:!0,children:(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:[(0,re.jsx)(u.Text,{children:"Advanced"}),(0,re.jsx)(Mt.XE,{marginRight:2})]}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsxs)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:3,color:"gray.800",children:[(0,re.jsx)(on,{label:"Collision",infoText:"Perfomance sap, disable if slow",value:t.collision,onChange:function(){return n(an(an({},t),{},{collision:!t.collision}))},children:(0,re.jsx)(Jt,{value:t.collisionStrength/5,onChange:function(e){return i(e,"collisionStrength",.2)},label:"Collision Radius",infoText:"Easy with this one, high values can lead to a real jiggly mess"})}),(0,re.jsx)(Jt,{label:"Link iterations",value:t.linkIts,onChange:function(e){return i(e,"linkIts",1)},min:0,max:6,step:1,infoText:"How many links down the line the physics of a single node affects (Slow)"}),(0,re.jsx)(Jt,{label:"Viscosity",value:10*t.velocityDecay,onChange:function(e){return i(e,"velocityDecay",10)}}),(0,re.jsx)(on,{label:"Center nodes",value:t.centering,onChange:function(){return n(an(an({},t),{},{centering:!t.centering}))},infoText:"Keeps the nodes in the center of the viewport. If disabled you can drag the nodes anywhere you want.",children:(0,re.jsx)(Jt,{label:"Centering Strength",value:t.centeringStrength,max:2,step:.01,onChange:function(e){return i(e,"centeringStrength",1)}})})]})})]})})})]})};function cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function dn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var un=function(e){var t=e.behavior,n=e.setBehavior,i=e.mouse,r=e.setMouse;return(0,re.jsxs)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",paddingLeft:7,color:"gray.800",children:[(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Preview node"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,re.jsx)(u.Text,{children:i.preview?i.preview[0].toUpperCase()+i.preview.slice(1):"Never"})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{preview:""}))},children:"Never"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{preview:"click"}))},children:"Click"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{preview:"double"}))},children:"Double Click"})]})]})]})]}),(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsxs)(u.Flex,{children:[(0,re.jsx)(u.Text,{children:"Expand Node"}),(0,re.jsx)(Xt,{infoText:"View only the node and its direct neighbors"})]}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,re.jsx)(u.Text,{children:i.local?i.local[0].toUpperCase()+i.local.slice(1):"Never"})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{zIndex:"popover",bgColor:"gray.200",children:[(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{local:""}))},children:"Never"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{local:"click"}))},children:"Click"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{local:"double"}))},children:"Double Click"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{local:"right"}))},children:"Right Click"})]})]})]})]}),(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Open in Emacs"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,re.jsx)(u.Text,{children:i.follow?i.follow[0].toUpperCase()+i.follow.slice(1):"Never"})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{follow:""}))},children:"Never"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{follow:"click"}))},children:"Click"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{follow:"double"}))},children:"Double Click"}),(0,re.jsx)(G.sN,{onClick:function(){return r(dn(dn({},i),{},{follow:"right"}))},children:"Right Click"})]})]})]})]}),(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Follow Emacs by..."}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,re.jsx)(u.Text,{children:t.follow[0].toUpperCase()+t.follow.slice(1)})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,re.jsx)(G.sN,{onClick:function(){return n(dn(dn({},t),{},{follow:"color"}))},children:"Just coloring the currently opened node"}),(0,re.jsx)(G.sN,{onClick:function(){return n(dn(dn({},t),{},{follow:"local"}))},children:"Opening the local graph"}),(0,re.jsx)(G.sN,{onClick:function(){return n(dn(dn({},t),{},{follow:"zoom"}))},children:"Zooming to the current node"})]})]})]})]}),(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsxs)(u.Flex,{children:[(0,re.jsx)(u.Text,{children:"Local graph"}),(0,re.jsx)(Xt,{infoText:"When in local mode and clicking a new node, should I add that node's local graph or open the new one?"})]}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),colorScheme:"",color:"black",children:(0,re.jsx)(u.Text,{children:"add"===t.localSame?"Add":"Replace"})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{bgColor:"gray.200",zIndex:"popover",children:[(0,re.jsx)(G.sN,{onClick:function(){return n(dn(dn({},t),{},{localSame:"replace"}))},children:"Open that nodes graph"}),(0,re.jsx)(G.sN,{onClick:function(){return n(dn(dn({},t),{},{localSame:"add"}))},children:"Add node to local graph"})]})]})]})]}),(0,re.jsx)(Jt,{label:"Zoom speed",value:t.zoomSpeed,min:0,max:4e3,step:100,onChange:function(e){return n(dn(dn({},t),{},{zoomSpeed:e}))}}),(0,re.jsx)(Jt,{label:"Zoom padding",value:t.zoomPadding,min:0,max:400,step:1,onChange:function(e){return n(dn(dn({},t),{},{zoomPadding:e}))},infoText:"How much to zoom out to accomodate all nodes when changing the view."})]})},hn=n(11391);function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var fn=function(e){var t=e.visuals,n=e.setVisuals;return(0,re.jsx)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,re.jsx)(u.Box,{children:(0,re.jsx)(on,{label:"Highlight",onChange:function(){return n((function(e){return pn(pn({},e),{},{highlight:!e.highlight})}))},value:t.highlight,children:(0,re.jsxs)(u.VStack,{spacing:1,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.400"}),align:"stretch",paddingLeft:0,children:[(0,re.jsx)(Jt,{label:"Highlight Link Thickness",value:t.highlightLinkSize,onChange:function(e){return n((function(t){return pn(pn({},t),{},{highlightLinkSize:e})}))}}),(0,re.jsx)(Jt,{label:"Highlight Node Size",value:t.highlightNodeSize,onChange:function(e){return n((function(t){return pn(pn({},t),{},{highlightNodeSize:e})}))}}),(0,re.jsx)(Jt,{min:0,max:1,label:"Highlight Fade",value:t.highlightFade,onChange:function(e){return n((function(t){return pn(pn({},t),{},{highlightFade:e})}))}}),(0,re.jsxs)(on,{label:"Highlight Animation",onChange:function(){n((function(e){return pn(pn({},e),{},{highlightAnim:!e.highlightAnim})}))},value:t.highlightAnim,children:[(0,re.jsx)(Jt,{label:"Animation speed",onChange:function(e){return n((function(t){return pn(pn({},t),{},{animationSpeed:e})}))},value:t.animationSpeed,infoText:"Slower speed has a chance of being buggy",min:50,max:1e3,step:10}),(0,re.jsx)(hn.Ph,{placeholder:t.algorithmName,onChange:function(e){n((function(t){return pn(pn({},t),{},{algorithmName:e.target.value})}))},children:t.algorithmOptions.map((function(e){return(0,re.jsx)("option",{value:e,children:e},e)}))})]})]})})})})};function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vn=function(e){var t=e.label,n=e.colorList,i=e.value,r=e.visValue,l=e.setVisuals,a=e.noEmpty,s=(0,m.useCallback)((function(e){return l((function(t){return xn(xn({},t),{},(0,o.Z)({},i,e))}))}),[]);return(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:t}),(0,re.jsxs)(et.J2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(et.xo,{children:(0,re.jsx)(g.Button,{colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:(0,re.jsx)(u.Box,{bgColor:r,borderRadius:"sm",height:6,width:6})})}),(0,re.jsx)(tt.h_,{children:(0,re.jsx)(et.yk,{zIndex:"tooltip",maxW:36,position:"relative",children:(0,re.jsxs)(u.Flex,{flexWrap:"wrap",bgColor:"gray.200",children:[!a&&(0,re.jsx)(u.Box,{onClick:function(){return s("")},justifyContent:"space-between",alignItems:"center",display:"flex",m:1,children:(0,re.jsx)(u.Box,{height:6,width:6,borderColor:"gray.600",borderRadius:"xl",borderWidth:1})}),n.map((function(e){return(0,re.jsx)(u.Box,{m:1,onClick:function(){return s(e)},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Box,{bgColor:e,borderRadius:"xl",height:6,width:6})},e)}))]})})})]})]})};function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jn=function(e){var t=e.visuals,n=e.setVisualsCallback,i=e.highlightColor,o=e.setHighlightColor;return(0,re.jsx)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,re.jsxs)(u.Box,{children:[(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Nodes"}),(0,re.jsx)(h.u,{label:"Shuffle node colors",children:(0,re.jsx)(g.IconButton,{"aria-label":"Shuffle node colors",size:"sm",icon:(0,re.jsx)(W.RepeatIcon,{}),variant:"ghost",onClick:function(){var e,i=null!==(e=t.nodeColorScheme)&&void 0!==e?e:[];n(yn(yn({},t),{},{nodeColorScheme:i.map((function(e){return[Math.random(),e]})).sort((function(e,t){return(0,l.Z)(e,1)[0]-(0,l.Z)(t,1)[0]})).map((function(e){var t=(0,l.Z)(e,2);t[0];return t[1]}))}))}})}),(0,re.jsx)(h.u,{label:"Cycle node colors",children:(0,re.jsx)(g.IconButton,{"aria-label":"Shift node colors",icon:(0,re.jsx)(W.ArrowRightIcon,{}),size:"sm",variant:"ghost",onClick:function(){var e,i=null!==(e=t.nodeColorScheme)&&void 0!==e?e:[];n(yn(yn({},t),{},{nodeColorScheme:[].concat((0,r.Z)(i.slice(1,i.length)),[i[0]])}))}})}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",closeOnSelect:!1,matchWidth:!0,children:[(0,re.jsx)(G.j2,{width:20,as:g.Button,colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:(0,re.jsx)(u.Flex,{height:6,width:6,flexDirection:"column",flexWrap:"wrap",children:t.nodeColorScheme.map((function(e){return(0,re.jsx)(u.Box,{bgColor:e,flex:"1 1 8px",borderRadius:"2xl"},e)}))})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsx)(G.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:(0,re.jsx)(G.__,{width:500,type:"checkbox",defaultValue:t.nodeColorScheme,onChange:function(e){e.length&&n(yn(yn({},t),{},{nodeColorScheme:e}))},children:Z.map((function(e){return(0,re.jsx)(G.ii,{isChecked:t.nodeColorScheme.some((function(t){return t===e})),value:e,isDisabled:1===t.nodeColorScheme.length&&t.nodeColorScheme[0]===e,children:(0,re.jsx)(u.Box,{justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Box,{bgColor:e,borderRadius:"sm",height:6,width:6})})},e)}))})})]})]})]}),(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Links"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:(0,re.jsx)(u.Box,{children:t.linkColorScheme?(0,re.jsx)(u.Box,{bgColor:t.linkColorScheme,borderRadius:"sm",height:6,width:6}):(0,re.jsx)(u.Flex,{height:6,width:6,flexDirection:"column",flexWrap:"wrap",children:t.nodeColorScheme.map((function(e){return(0,re.jsx)(u.Box,{bgColor:e,flex:"1 1 8px",borderRadius:"2xl"},e)}))})})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:[(0,re.jsx)(G.sN,{onClick:function(){return n(yn(yn({},t),{},{linkColorScheme:""}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Flex,{height:6,width:6,flexDirection:"column",flexWrap:"wrap",children:t.nodeColorScheme.map((function(e){return(0,re.jsx)(u.Box,{bgColor:e,flex:"1 1 8px",borderRadius:"2xl"},e)}))})}),Z.map((function(e){return(0,re.jsx)(G.sN,{onClick:function(){return n(yn(yn({},t),{},{linkColorScheme:e}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Box,{bgColor:e,borderRadius:"sm",height:6,width:6})},e)}))]})]})]})]}),(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Accent"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:(0,re.jsx)(u.Box,{bgColor:i,borderRadius:"sm",height:6,width:6})}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsx)(G.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:Z.map((function(e){return(0,re.jsx)(G.sN,{onClick:function(){return o(e)},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Box,{bgColor:e,borderRadius:"sm",height:6,width:6})},e)}))})]})]})]}),(0,re.jsx)(vn,{colorList:Z,label:"Link highlight",setVisuals:n,value:"linkHighlight",visValue:t.linkHighlight}),(0,re.jsx)(vn,{colorList:Z,label:"Node highlight",setVisuals:n,value:"nodeHighlight",visValue:t.nodeHighlight}),(0,re.jsx)(vn,{colorList:Z,label:"Background",setVisuals:n,value:"backgroundColor",visValue:t.backgroundColor}),(0,re.jsx)(vn,{colorList:Z,label:"Emacs node",setVisuals:n,value:"emacsNodeColor",visValue:t.emacsNodeColor})]})})};function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sn=function(e){var t=e.visuals,n=e.setVisuals,i=e.threeDim;return(0,re.jsx)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,re.jsxs)(u.Box,{children:[(0,re.jsx)(Jt,{label:"Node size",value:t.nodeRel,onChange:function(e){return n(On(On({},t),{},{nodeRel:e}))}}),(0,re.jsx)(Jt,{label:"Node degree size multiplier",value:t.nodeSizeLinks,min:0,max:2,onChange:function(e){return n(On(On({},t),{},{nodeSizeLinks:e}))}}),(0,re.jsx)(Jt,{label:"Node zoom invariance",value:t.nodeZoomSize,min:0,max:2,infoText:"How much the graph will try to keep the nodesize consistent across zoom scales. 0 is no consistency, node will always be their true size, 1 is linear, 2 is quadratic.",onChange:function(e){return n((function(t){return On(On({},t),{},{nodeZoomSize:e})}))}}),i&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(Jt,{label:"Node opacity",value:t.nodeOpacity,min:0,max:1,onChange:function(e){return n(On(On({},t),{},{nodeOpacity:e}))}}),(0,re.jsx)(Jt,{label:"Node resolution",value:t.nodeResolution,min:5,max:32,step:1,onChange:function(e){return n(On(On({},t),{},{nodeResolution:e}))}})]}),(0,re.jsx)(Jt,{label:"Link width",value:t.linkWidth,onChange:function(e){return n(On(On({},t),{},{linkWidth:e}))}}),i&&(0,re.jsx)(Jt,{label:"Link opacity",min:0,max:1,value:t.linkOpacity,onChange:function(e){return n(On(On({},t),{},{linkOpacity:e}))}}),(0,re.jsxs)(on,{label:"Link arrows",value:t.arrows,onChange:function(){return n(On(On({},t),{},{arrows:!t.arrows}))},children:[(0,re.jsx)(Jt,{label:"Arrow size",value:t.arrowsLength/10,onChange:function(e){return n(On(On({},t),{},{arrowsLength:10*e}))}}),(0,re.jsx)(Jt,{label:"Arrow Position",value:t.arrowsPos,min:0,max:1,step:.01,onChange:function(e){return n(On(On({},t),{},{arrowsPos:e}))}}),(0,re.jsx)(vn,{colorList:Z,label:"Arrow Color",setVisuals:n,value:"arrowsColor",visValue:t.arrowsColor},"arrow")]}),(0,re.jsxs)(on,{label:"Directional Particles",value:t.particles,onChange:function(){return n(On(On({},t),{},{particles:!t.particles}))},children:[(0,re.jsx)(Jt,{label:"Particle Number",value:t.particlesNumber,max:5,step:1,onChange:function(e){return n(On(On({},t),{},{particlesNumber:e}))}}),(0,re.jsx)(Jt,{label:"Particle Size",value:t.particlesWidth,onChange:function(e){return n(On(On({},t),{},{particlesWidth:e}))}})]})]})})};function wn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var In=function(e){var t=e.visuals,n=e.setVisuals;return(0,re.jsxs)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.400"}),align:"stretch",color:"gray.800",children:[(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",children:[(0,re.jsx)(u.Text,{children:"Show labels"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:t.labels?t.labels<2?"On Highlight":"Always":"Never"}),(0,re.jsxs)(tt.h_,{children:[" ",(0,re.jsxs)(G.qy,{zIndex:"popover",bgColor:"gray.200",children:[(0,re.jsx)(G.sN,{onClick:function(){return n(kn(kn({},t),{},{labels:0}))},children:"Never"}),(0,re.jsx)(G.sN,{onClick:function(){return n(kn(kn({},t),{},{labels:1}))},children:"On Highlight"}),(0,re.jsx)(G.sN,{onClick:function(){return n(kn(kn({},t),{},{labels:2}))},children:"Always"}),(0,re.jsx)(G.sN,{onClick:function(){return n(kn(kn({},t),{},{labels:3}))},children:"Always (even in 3D)"})]})]})]})]}),(0,re.jsxs)(rn.UO,{in:t.labels>1,animateOpacity:!0,children:[(0,re.jsx)(u.Box,{paddingTop:2,children:(0,re.jsx)(Jt,{label:"Label Appearance Scale",value:2*t.labelScale,onChange:function(e){return n(kn(kn({},t),{},{labelScale:e/2}))}})}),(0,re.jsxs)(u.Box,{paddingTop:2,children:[(0,re.jsx)(Jt,{label:"Label dynamicity",infoText:"By default, labels of nodes with more links will appear earlier than those with fewer. This slider changes the strength of this effect, put it at zero to disable it.",value:t.labelDynamicStrength,min:0,max:1,step:.05,onChange:function(e){return n((function(t){return kn(kn({},t),{},{labelDynamicStrength:e})}))}}),(0,re.jsx)(rn.UO,{in:t.labelDynamicStrength>0,children:(0,re.jsx)(Jt,{label:"Dynamic zoom degree cap",infoText:"The maximum number of links that is considered for the 'dynamic zoom effect'. Past this number all number of links are treated the same.",value:t.labelDynamicDegree,min:1,max:15,step:1,onChange:function(e){return n((function(t){return kn(kn({},t),{},{labelDynamicDegree:e})}))}})})]})]}),(0,re.jsx)(vn,{colorList:Z,label:"Text",setVisuals:n,value:"labelTextColor",visValue:t.labelTextColor}),(0,re.jsxs)(u.Box,{children:[(0,re.jsx)(vn,{colorList:Z,label:"Background",setVisuals:n,value:"labelBackgroundColor",visValue:t.labelBackgroundColor}),(0,re.jsx)(rn.UO,{in:!!t.labelBackgroundColor,animateOpacity:!0,children:(0,re.jsx)(u.Box,{paddingTop:2,children:(0,re.jsx)(Jt,{label:"Background opacity",value:t.labelBackgroundOpacity,onChange:function(e){console.log(t.labelBackgroundOpacity),n(kn(kn({},t),{},{labelBackgroundOpacity:e}))},min:0,max:1,step:.01})})})]}),(0,re.jsx)(Jt,{label:"Label font size",value:t.labelFontSize,min:5,max:20,step:.5,onChange:function(e){return n(kn(kn({},t),{},{labelFontSize:e}))}}),(0,re.jsx)(Jt,{label:"Max. label characters",value:t.labelLength,min:10,max:100,step:1,onChange:function(e){return n(kn(kn({},t),{},{labelLength:e}))}}),(0,re.jsx)(Jt,{label:"Max. label line length",value:t.labelWordWrap,min:10,max:100,step:1,onChange:function(e){return n(kn(kn({},t),{},{labelWordWrap:e}))}}),(0,re.jsx)(Jt,{label:"Space between label lines",value:t.labelLineSpace,min:.2,max:3,step:.1,onChange:function(e){return n(kn(kn({},t),{},{labelLineSpace:e}))}})]})},En=n(67690),Ln=function(){var e=(0,m.useContext)(nt.N),t=e.emacsTheme,n=e.setEmacsTheme;e.highlightColor;return(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",pl:7,pr:2,children:[(0,re.jsx)(u.Text,{children:"Theme"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"bottom",closeOnSelect:!1,children:[(0,re.jsx)(G.j2,{as:g.Button,size:"sm",colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:t[0]}),(0,re.jsxs)(G.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:[(0,re.jsx)(G.sN,{onClick:function(){return""},justifyContent:"space-between",alignItems:"center",display:"flex",children:(0,re.jsx)(u.Box,{height:6,width:6})}),Object.keys(En.n).map((function(e,t){return(0,re.jsxs)(G.sN,{onClick:function(){return n([e,En.n[e]])},justifyContent:"space-between",alignItems:"center",display:"flex",children:[(0,re.jsx)(u.Text,{children:e}),(0,re.jsx)(u.Flex,{height:6,width:20,flexDirection:"column",flexWrap:"wrap",children:Object.values(En.n[e]).map((function(e){return(0,re.jsx)(u.Box,{bgColor:e,flex:"1 1 8px"},e)}))})]},e)}))]})]})]})};function Rn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Nn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pn=function(e){var t=e.visuals,n=e.setVisuals;return(0,re.jsx)(u.VStack,{spacing:2,justifyContent:"flex-start",divider:(0,re.jsx)(u.StackDivider,{borderColor:"gray.500"}),align:"stretch",color:"gray.800",children:(0,re.jsxs)(u.Box,{children:[(0,re.jsxs)(on,{label:"Dash cite links",infoText:"Add dashes to citation links made with org-roam-bibtex",value:t.citeDashes,onChange:function(){return n(Nn(Nn({},t),{},{citeDashes:!t.citeDashes}))},children:[(0,re.jsx)(Jt,{label:"Dash length",value:t.citeDashLength/10,onChange:function(e){return n(Nn(Nn({},t),{},{citeDashLength:10*e}))}}),(0,re.jsx)(Jt,{label:"Gap length",value:t.citeGapLength/5,onChange:function(e){return n(Nn(Nn({},t),{},{citeGapLength:5*e}))}})]}),(0,re.jsx)(vn,{colorList:Z,label:"Citation node color",setVisuals:n,value:"citeNodeColor",visValue:t.citeNodeColor}),(0,re.jsx)(vn,{colorList:Z,label:"Citation link color",setVisuals:n,value:"citeLinkColor",visValue:t.citeLinkColor}),(0,re.jsx)(vn,{colorList:Z,label:"Reference link highlight",setVisuals:n,value:"citeLinkHighlightColor",visValue:t.citeLinkHighlightColor}),(0,re.jsxs)(on,{label:"Dash ref links",infoText:"Add dashes to citation links, whose target has a note, made with org-roam-bibtex",value:t.refDashes,onChange:function(){return n(Nn(Nn({},t),{},{refDashes:!t.refDashes}))},children:[(0,re.jsx)(Jt,{label:"Dash length",value:t.refDashLength/10,onChange:function(e){return n(Nn(Nn({},t),{},{refDashLength:10*e}))}}),(0,re.jsx)(Jt,{label:"Gap length",value:t.refGapLength/5,onChange:function(e){return n(Nn(Nn({},t),{},{refGapLength:5*e}))}})]}),(0,re.jsx)(vn,{colorList:Z,label:"Reference node color",setVisuals:n,value:"refNodeColor",visValue:t.refNodeColor}),(0,re.jsx)(vn,{colorList:Z,label:"Reference link color",setVisuals:n,value:"refLinkColor",visValue:t.refLinkColor}),(0,re.jsx)(vn,{colorList:Z,label:"Reference link highlight",setVisuals:n,value:"refLinkHighlightColor",visValue:t.refLinkHighlightColor})]})})};function Dn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Bn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fn=function(e){var t=e.coloring,n=e.setColoring;return(0,re.jsxs)(u.Flex,{alignItems:"center",justifyContent:"space-between",pl:7,pr:2,children:[(0,re.jsx)(u.Text,{children:"Graph coloring"}),(0,re.jsxs)(G.v2,{isLazy:!0,placement:"right",children:[(0,re.jsx)(G.j2,{as:g.Button,size:"sm",colorScheme:"",color:"black",rightIcon:(0,re.jsx)(W.ChevronDownIcon,{}),children:"degree"===t.method?"Links":"Communities"}),(0,re.jsx)(tt.h_,{children:(0,re.jsxs)(G.qy,{minW:10,zIndex:"popover",bgColor:"gray.200",children:[(0,re.jsx)(G.sN,{onClick:function(){return n((function(e){return Bn(Bn({},e),{},{method:"degree"})}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:"Number of links"}),(0,re.jsx)(G.sN,{onClick:function(){return n((function(e){return Bn(Bn({},e),{},{method:"community"})}))},justifyContent:"space-between",alignItems:"center",display:"flex",children:"Communities"})]})})]})]})},An=function(e){var t=e.coloring,n=e.setColoring,i=e.visuals,r=e.setVisuals,o=e.highlightColor,l=e.setHighlightColor,a=e.threeDim,s=(0,m.useCallback)((function(e){return r(e)}),[]);return(0,re.jsxs)(u.VStack,{justifyContent:"flex-start",align:"stretch",children:[(0,re.jsx)(Ln,{}),(0,re.jsx)(Fn,{coloring:t,setColoring:n}),(0,re.jsxs)(Mt.UQ,{allowToggle:!0,defaultIndex:[0],paddingLeft:3,children:[(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsx)(Mt.KF,{children:(0,re.jsxs)(u.Flex,{justifyContent:"space-between",w:"100%",children:[(0,re.jsx)(u.Text,{children:"Colors"}),(0,re.jsx)(Mt.XE,{marginRight:2})]})}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(jn,{visuals:i,setVisualsCallback:s,highlightColor:o,setHighlightColor:l})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsx)(Mt.KF,{children:(0,re.jsxs)(u.Flex,{justifyContent:"space-between",w:"100%",children:[(0,re.jsx)(u.Text,{children:"Nodes & Links"}),(0,re.jsx)(Mt.XE,{marginRight:2})]})}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(Sn,{visuals:i,setVisuals:s,threeDim:a})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsx)(Mt.KF,{children:(0,re.jsxs)(u.Flex,{justifyContent:"space-between",w:"100%",children:[(0,re.jsx)(u.Text,{children:"Labels"}),(0,re.jsx)(Mt.XE,{marginRight:2})]})}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(In,{visuals:i,setVisuals:s})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsx)(Mt.KF,{children:(0,re.jsxs)(u.Flex,{justifyContent:"space-between",w:"100%",children:[(0,re.jsx)(u.Text,{children:"Highlighting"}),(0,re.jsx)(Mt.XE,{marginRight:2})]})}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(fn,{visuals:i,setVisuals:s})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsx)(Mt.KF,{children:(0,re.jsxs)(u.Flex,{justifyContent:"space-between",w:"100%",children:[(0,re.jsx)(u.Text,{children:"Citations"}),(0,re.jsx)(Mt.XE,{marginRight:2})]})}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(Pn,{visuals:i,setVisuals:s})})]})]})]})},Tn=["style"];function zn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Mn=function(e){var t=e.physics,n=e.setPhysics,i=e.threeDim,r=e.setThreeDim,o=e.filter,a=e.setFilter,s=e.visuals,c=e.setVisuals,d=e.mouse,p=e.setMouse,f=e.behavior,b=e.setBehavior,x=e.tags,v=e.tagColors,y=e.setTagColors,j=e.coloring,C=e.setColoring,O=e.local,S=e.setLocal,w=Bt("showTweaks",!1),k=(0,l.Z)(w,2),I=k[0],E=k[1],L=(0,m.useContext)(nt.N),R=L.highlightColor,N=L.setHighlightColor;return I?(0,re.jsxs)(u.Box,{position:"absolute",bg:"alt.100",w:"xs",marginTop:2,marginLeft:2,borderRadius:"lg",paddingBottom:5,zIndex:10,boxShadow:"xl",maxH:"95vh",fontSize:"sm",children:[(0,re.jsxs)(u.Box,{display:"flex",justifyContent:"space-between",alignItems:"center",paddingRight:2,paddingTop:1,children:[(0,re.jsx)(h.u,{label:"2D",children:(0,re.jsx)(g.Button,{onClick:function(){return r(!i)},variant:"subtle",zIndex:"overlay",children:i?"3D":"2D"})}),(0,re.jsxs)(u.Box,{display:"flex",alignItems:"center",children:[(0,re.jsx)(h.u,{label:"Reset settings to defaults",children:(0,re.jsx)(g.IconButton,{"aria-label":"Reset Defaults",icon:(0,re.jsx)(W.RepeatClockIcon,{}),onClick:function(){c(T),a(F),p(H),n(B),b(z),C(A),N("purple.500"),S(M)},variant:"subtle",size:"sm"})}),(0,re.jsx)(g.IconButton,{size:"sm",icon:(0,re.jsx)(W.CloseIcon,{}),"aria-label":"Close Tweak Panel",variant:"subtle",onClick:function(){return E(!1)}})]})]}),(0,re.jsx)(lt.ZP,{autoHeight:!0,autoHeightMax:.85*globalThis.innerHeight,autoHide:!0,renderThumbVertical:function(e){var t=e.style,n=(0,q.Z)(e,Tn);return(0,re.jsx)(u.Box,Hn(Hn({},n),{},{style:Hn(Hn({},t),{},{borderRadius:10}),bg:R}))},children:(0,re.jsxs)(Mt.UQ,{allowMultiple:!0,allowToggle:!0,color:"black",children:[(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:[(0,re.jsx)(Mt.XE,{marginRight:2}),(0,re.jsx)(u.Heading,{size:"sm",children:"Filter"})]}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(nn,{filter:o,setFilter:a,tagColors:v,setTagColors:y,highlightColor:R,colorList:Z,tags:x,local:O,setLocal:S})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsx)(Mt.KF,{display:"flex",justifyContent:"space-between",children:(0,re.jsxs)(u.Box,{display:"flex",children:[(0,re.jsx)(Mt.XE,{marginRight:2}),(0,re.jsx)(u.Heading,{size:"sm",children:"Physics"})]})}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(sn,{physics:t,setPhysics:n})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:[(0,re.jsx)(Mt.XE,{marginRight:2}),(0,re.jsx)(u.Heading,{size:"sm",children:"Visual"})]}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(An,{visuals:s,setVisuals:c,highlightColor:R,setHighlightColor:N,threeDim:i,coloring:j,setColoring:C})})]}),(0,re.jsxs)(Mt.Qd,{children:[(0,re.jsxs)(Mt.KF,{children:[(0,re.jsx)(Mt.XE,{marginRight:2}),(0,re.jsx)(u.Heading,{size:"sm",children:"Behavior"})]}),(0,re.jsx)(Mt.Hk,{children:(0,re.jsx)(un,{behavior:f,setBehavior:b,mouse:d,setMouse:p})})]})]})})]}):(0,re.jsx)(u.Box,{position:"absolute",zIndex:"overlay",marginTop:1,marginLeft:0,display:I?"none":"block",children:(0,re.jsx)(g.IconButton,{variant:"subtle","aria-label":"Settings",icon:(0,re.jsx)(W.SettingsIcon,{}),onClick:function(){return E(!0)}})})},Zn=n(22663),Gn=n.n(Zn),_n=n(94244),Wn=function(e){var t,n=e.linksByNodeId,i=e.visuals,r=e.highlightedNodes,o=e.previouslyHighlightedNodes,l=e.opacity,a=e.node,s=null!==(t=n[a.id])&&void 0!==t?t:[],c=s.length?s.filter((function(e){return"parent"===e.type})).length:0,d=3+s.length*i.nodeSizeLinks-(_n.hX.parent?0:c);return 1===i.highlightNodeSize?d:d*(r[a.id]||o[a.id]?1+l*(i.highlightNodeSize-1):1)};function Vn(e,t){return"rgba("+(e=e.replace("#","")).match(new RegExp("(.{"+e.length/3+"})","g")).map((function(t){return parseInt(e.length%2?t+t:t,16)})).concat(isFinite(t)?t:1).join(",")+")"}function Yn(e){var t,n,i,o,l=e.labelBackgroundColor,a=e.labelTextColor,s=e.node,c=e.ctx,d=e.globalScale,u=e.highlightedNodes,h=e.previouslyHighlightedNodes,g=e.visuals,p=e.opacity,f=e.filteredLinksByNodeId,b=(e.nodeRel,e.hoverNode),x=e.lastHoverNode;if(s&&g.labels){var v=null!==(t=null===b||void 0===b?void 0:b.id)&&void 0!==t?t:"",m=null!==(n=null===x||void 0===x?void 0:x.id)&&void 0!==n?n:"",y=null!==(i=f[s.id])&&void 0!==i?i:[],j=!(!u[s.id]&&!h[s.id]),C=Math.min(5*(d-g.labelScale)+2*Math.pow(Math.min(y.length,g.labelDynamicDegree),g.labelDynamicStrength),1);if(!(C<.01)||j){var O=null!==(o=s.title)&&void 0!==o?o:"",S=O.substring(0,g.labelLength),w=Math.cbrt(g.nodeRel*Wn({node:s,highlightedNodes:u,linksByNodeId:f,opacity:p,previouslyHighlightedNodes:h,visuals:g})/Math.pow(d,g.nodeZoomSize)),k=g.labelFontSize/Math.cbrt(Math.pow(d,g.nodeZoomSize)),I=[1.1*c.measureText(S).width,k].map((function(e){return e+.5*k})),E=function(e,t,n,i,r){return r?Math.max(e,i):1*e*(-1*(t.highlightFade*i-1))}(C,g,0,p,j);if(g.labelBackgroundColor&&g.labelBackgroundOpacity){var L=Vn(l,E*g.labelBackgroundOpacity);c.fillStyle=L,c.fillRect.apply(c,[s.x-I[0]/2,s.y-I[1]/2+w].concat((0,r.Z)(I)))}c.textAlign="center",c.textBaseline="middle";var R=Vn(a,E);c.fillStyle=R,c.font="".concat(k,"px Sans-Serif");var N=Gn()(S,{width:g.labelWordWrap}).split("\n"),P=O.length>g.labelLength?[].concat((0,r.Z)(N.slice(0,-1)),["".concat(N.slice(-1),"...")]):N,D=[v,m].includes(s.id)?1+.3*p:1;P.forEach((function(e,t){c.fillText(e,s.x,s.y+D*w*8+g.labelLineSpace*k*t)}))}}}var qn=function(e){var t,n,i,r,o,l=e.id,a=e.linksByNodeId,s=e.visuals,c=e.coloring,d=e.cluster,u=null!==(t=null===(n=a[l])||void 0===n?void 0:n.length)&&void 0!==t?t:0;return"degree"===c.method?s.nodeColorScheme[(i=u,r=0,o=s.nodeColorScheme.length-1,Math.min(Math.max(i,r),o))]:s.nodeColorScheme[u&&d[l]%s.nodeColorScheme.length]},Un=function(e,t){var n,i;return(null===(n=e.source)||void 0===n?void 0:n.id)===(null===t||void 0===t?void 0:t.id)||(null===(i=e.target)||void 0===i?void 0:i.id)===(null===t||void 0===t?void 0:t.id)},Kn=function(e){var t=e.sourceId,n=e.targetId,i=e.linksByNodeId,r=e.visuals,o=e.coloring,l=e.cluster;return i[t].length>i[n].length?qn({id:t,linksByNodeId:i,visuals:r,cluster:l,coloring:o}):qn({id:n,visuals:r,linksByNodeId:i,cluster:l,coloring:o})};function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Jn=n.e(907).then(n.bind(n,99907)),$n=n.g.window?n(24878).f$:null,ei=n.g.window?n(24878).s6:null;function ti(){var e=(0,m.useState)(!1),t=e[0],n=e[1];return(0,m.useEffect)((function(){n(!0)}),[]),t?(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(v.default,{children:(0,re.jsx)("title",{children:"ORUI"})}),(0,re.jsx)(ni,{})]}):null}function ni(){var e=Bt("3d",!1),t=(0,l.Z)(e,2),n=t[0],i=t[1],a=Bt("tagCols",{}),s=(0,l.Z)(a,2),p=s[0],f=s[1],x=(0,m.useState)({nodeIds:[],excludedNodeIds:[]}),v=x[0],y=x[1],j=Bt("physics",B),w=(0,l.Z)(j,2),I=w[0],E=w[1],L=Bt("filter",F),R=(0,l.Z)(L,2),N=R[0],P=R[1],D=Bt("visuals",T),Z=(0,l.Z)(D,2),G=Z[0],_=Z[1],W=(0,m.useState)(null),V=W[0],Y=W[1],q=(0,m.useState)(null),U=q[0],K=q[1],X=Bt("behavior",z),Q=(0,l.Z)(X,2),J=Q[0],$=Q[1],ee=Bt("mouse",H),te=(0,l.Z)(ee,2),ne=te[0],ie=te[1],oe=Bt("coloring",A),le=(0,l.Z)(oe,2),ae=le[0],se=le[1],ce=Bt("local",M),de=(0,l.Z)(ce,2),ue=de[0],he=de[1],ge=(0,k.Z)({}),pe=(0,l.Z)(ge,2),be=pe[0],xe=pe[1],ve=xe.set,me=xe.reset,ye=xe.undo,je=xe.redo,Ce=xe.canUndo,Oe=xe.canRedo,Se=(be.past,be.present),we=(be.future,(0,m.useState)(null)),ke=we[0],Ie=we[1],Ee=(0,d.qY)(),Le=Ee.isOpen,Re=Ee.onOpen,Ne=Ee.onClose,Pe=(0,m.useRef)({}),De=(0,m.useRef)({}),Be=(0,m.useRef)({}),Fe=(0,m.useRef)([]),Ae=(0,m.useRef)(null),Te=(0,m.useState)({}),ze=Te[0],He=Te[1],Me=(0,m.useRef)({}),Ze=(0,m.useRef)({nodes:[],links:[]}),Ge=function(e){var t,n,i,a=Pe.current;Fe.current=null!==(t=e.tags)&&void 0!==t?t:[];var s=null!==(n=e.nodes)&&void 0!==n?n:[],c=null!==(i=e.links)&&void 0!==i?i:[],d=s.reduce((function(e,t){var n;return Qn(Qn({},e),{},(0,o.Z)({},t.file,[].concat((0,r.Z)(null!==(n=e[t.file])&&void 0!==n?n:[]),[t])))}),{}),u=Object.keys(d).flatMap((function(e){var t,n=null!==(t=d[e])&&void 0!==t?t:[],i=n.find((function(e){return 0===e.level})),r=n.filter((function(e){return 0!==e.level}));return i?r.map((function(e){var t=n.filter((function(t){var n,i;return!(t.level>=e.level||t.pos>=e.pos||null===(n=e.olp)||void 0===n||!n.includes(null===(i=t.title)||void 0===i?void 0:i.replace(/ *\[\d*\/\d*\] */g,"")))})).reduce((function(e,t){return t.level>e.level&&(e=t),e}),i);return{source:e.id,target:(null===t||void 0===t?void 0:t.id)||i.id,type:"heading"}})):[]})),h=Object.keys(d).flatMap((function(e){var t,n=null!==(t=d[e])&&void 0!==t?t:[],i=n.find((function(e){return 0===e.level})),r=n.filter((function(e){return 0!==e.level}));return i?r.map((function(e){return{source:e.id,target:i.id,type:"parent"}})):[]}));Pe.current=Object.fromEntries(s.map((function(e){return[e.id,e]})));var g=[].concat((0,r.Z)(c),(0,r.Z)(u),(0,r.Z)(h)),p=[],f=g.map((function(e){var t=e.source,n=e.target;return Pe.current[t]?Pe.current[n]?e:(p.push({id:n,tags:["bad"],properties:{FILELESS:"yes",bad:"yes"},file:"",title:n,level:0,pos:0,olp:null}),Qn(Qn({},e),{},{type:"bad"})):(p.push({id:t,tags:["bad"],properties:{FILELESS:"yes",bad:"yes"},file:"",title:t,level:0,pos:0,olp:null}),Qn(Qn({},e),{},{type:"bad"}))}));Pe.current=Qn(Qn({},Pe.current),Object.fromEntries(p.map((function(e){return[e.id,e]})))),De.current=f.reduce((function(e,t){var n,i,l;return Qn(Qn({},e),{},(l={},(0,o.Z)(l,t.source,[].concat((0,r.Z)(null!==(n=e[t.source])&&void 0!==n?n:[]),[t])),(0,o.Z)(l,t.target,[].concat((0,r.Z)(null!==(i=e[t.target])&&void 0!==i?i:[]),[t])),l))}),{});var b=[].concat((0,r.Z)(s),p);Be.current=b.reduce((function(e,t){var n,i=null===(n=t.properties)||void 0===n?void 0:n.ROAM_REFS;if(null===i||void 0===i||!i.includes("cite"))return e;var r=i.replaceAll(/cite:(.*)/g,"$1");return r?Qn(Qn({},e),{},(0,o.Z)({},r,t)):e}),{});var x={nodes:b,links:f},v=Ze.current;if(0===v.nodes.length){var m=JSON.parse(JSON.stringify(x));return Ze.current=m,void Y(m)}var y=[].concat((0,r.Z)(v.nodes.flatMap((function(e){var t,n=null!==(t=Pe.current[null===e||void 0===e?void 0:e.id])&&void 0!==t&&t;return n?[Qn(Qn({},e),n)]:[]}))),(0,r.Z)(Object.keys(Pe.current).filter((function(e){return!a[e]})).map((function(e){return Pe.current[e]})))),j=y.reduce((function(e,t,n){var i=null===t||void 0===t?void 0:t.id;return Qn(Qn({},e),{},(0,o.Z)({},i,n))}),{}),C=f.map((function(e){var t=jt(e),n=(0,l.Z)(t,2),i=n[0],r=n[1];return Qn(Qn({},e),{},{source:y[j[i]],target:y[j[r]]})}));Y({nodes:y,links:C})};(0,m.useEffect)((function(){V?Ze.current=V:Ge(c.a)}),[V]);var _e=(0,m.useContext)(nt.N).setEmacsTheme,We=(0,m.useRef)({nodeIds:[],excludedNodeIds:[]}),Ve=(0,m.useRef)(z);Ve.current=J;var Ye=(0,m.useRef)(null);We.current=v;var qe=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;if("color"!==e){var l=Ae.current,a=We.current,s=Ve.current,c=null!==(n=De.current[t])&&void 0!==n?n:[],d=Object.fromEntries([t].concat((0,r.Z)(c.flatMap((function(e){return[e.source,e.target]})))).map((function(e){return[e,{}]})));if("zoom"===e)return a.nodeIds.length&&y({nodeIds:[],excludedNodeIds:[]}),void setTimeout((function(){return l.zoomToFit(i,o,(function(e){return d[e.id]}))}),50);if(!a.nodeIds.length)return y((function(e){return Qn(Qn({},e),{},{nodeIds:[t]})})),void setTimeout((function(){l.centerAt(0,0,10),l.zoomToFit(1,o)}),50);if("add"!==s.localSame)return y((function(e){return Qn(Qn({},e),{},{nodeIds:[t]})})),void setTimeout((function(){l.centerAt(0,0,10),l.zoomToFit(1,o)}),50);if(!a.nodeIds.includes(t)||!a.nodeIds.some((function(e){return d[e]})))return y((function(e){return Qn(Qn({},e),{},{nodeIds:[t]})})),void setTimeout((function(){l.centerAt(0,0,10),l.zoomToFit(1,o)}),50);y((function(e){return Qn(Qn({},e),{},{nodeIds:[].concat((0,r.Z)(e.nodeIds),[t])})})),setTimeout((function(){l.centerAt(0,0,10),l.zoomToFit(1,o)}),50)}};(0,m.useEffect)((function(){Ye.current=new S.Z("ws://localhost:35903"),Ye.current.addEventListener("open",(function(){console.log("Connection with Emacs established")})),Ye.current.addEventListener("message",(function(e){var t=Ve.current,n=JSON.parse(e.data);switch(n.type){case"graphdata":return Ge(n.data);case"variables":return He(n.data),void console.log(n);case"theme":return _e(["custom",n.data]);case"command":switch(n.data.commandName){case"local":var i=J.zoomSpeed,r=J.zoomPadding;qe("local",n.data.id,i,r),K(n.data.id);break;case"zoom":var o,l,a=(null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.speed)||t.zoomSpeed,s=(null===n||void 0===n||null===(l=n.data)||void 0===l?void 0:l.padding)||t.zoomPadding;qe("zoom",n.data.id,a,s),K(n.data.id);break;case"follow":qe(t.follow,n.data.id,t.zoomSpeed,t.zoomPadding),K(n.data.id);break;case"change-local-graph":var c=Pe.current[n.data.id];if(!c)break;console.log(n),st(c,n.data.manipulation);break;default:return console.error("unknown message type",n.type)}}}))}),[]),(0,m.useEffect)((function(){var e=Ae.current;!e||v.nodeIds.length>1||(v.nodeIds.length||!I.gravityOn?setTimeout((function(){e.zoomToFit(5,200)}),50):e.zoomToFit())}),[v.nodeIds]);var Ue=(0,b.iP)(),Ke=(0,l.Z)(Ue,2),Xe=Ke[0],Qe=Ke[1],Je=(0,m.useRef)(),$e=(0,m.useState)(null),et=$e[0],tt=$e[1],it=(0,m.useState)({left:0,top:0,right:void 0,bottom:void 0}),rt=it[0],ot=it[1],lt=(0,d.qY)();(0,d.O3)({ref:Je,handler:function(){lt.onClose()}});var at=function(e,t,n){ot(n||{left:t.pageX,top:t.pageY,right:void 0,bottom:void 0}),tt(e),lt.onOpen()},st=function(e,t){"remove"!==t?"replace"!==t?v.nodeIds.includes(e.id)||y((function(t){return{excludedNodeIds:t.excludedNodeIds.filter((function(t){return t!==e.id})),nodeIds:[].concat((0,r.Z)(t.nodeIds),[e.id])}})):y({nodeIds:[e.id],excludedNodeIds:[]}):y((function(t){return{nodeIds:t.nodeIds.filter((function(t){return t!==e.id})),excludedNodeIds:[].concat((0,r.Z)(t.excludedNodeIds),[e.id])}}))},ct=Bt("mainWindowWidth",Xe),dt=(0,l.Z)(ct,2),ut=dt[0],ht=dt[1];return(0,re.jsx)($t.Provider,{value:Qn({},ze),children:(0,re.jsxs)(u.Box,{display:"flex",alignItems:"flex-start",flexDirection:"row",height:"100vh",overflow:"clip",children:[(0,re.jsx)(Mn,{physics:I,setPhysics:E,threeDim:n,setThreeDim:i,filter:N,setFilter:P,visuals:G,setVisuals:_,mouse:ne,setMouse:ie,behavior:J,setBehavior:$,tagColors:p,setTagColors:f,coloring:ae,setColoring:se,local:ue,setLocal:he,tags:Fe.current}),(0,re.jsx)(u.Box,{position:"absolute",children:V&&(0,re.jsx)(ii,{nodeById:Pe.current,linksByNodeId:De.current,webSocket:Ye.current,variables:ze,physics:I,graphData:V,threeDim:n,emacsNodeId:U,filter:N,visuals:G,behavior:J,mouse:ne,scope:v,setScope:y,tagColors:p,setPreviewNode:ve,sidebarHighlightedNode:ke,windowWidth:Xe,windowHeight:Qe,openContextMenu:at,contextMenu:lt,handleLocal:st,mainWindowWidth:ut,setMainWindowWidth:ht,setContextMenuTarget:tt,graphRef:Ae,clusterRef:Me,coloring:ae,local:ue})}),(0,re.jsx)(u.Box,{position:"relative",zIndex:4,width:"100%",children:(0,re.jsx)(u.Flex,{className:"headerBar",h:10,flexDir:"column",children:(0,re.jsx)(u.Flex,{alignItems:"center",h:10,justifyContent:"flex-end",children:(0,re.jsxs)(u.Flex,{height:"100%",flexDirection:"row",children:[v.nodeIds.length>0&&(0,re.jsx)(h.u,{label:"Return to main graph",children:(0,re.jsx)(g.IconButton,{m:1,icon:(0,re.jsx)(C.DvO,{}),"aria-label":"Exit local mode",onClick:function(){return y((function(e){return Qn(Qn({},e),{},{nodeIds:[]})}))},variant:"subtle"})}),(0,re.jsx)(h.u,{label:Le?"Close sidebar":"Open sidebar",children:(0,re.jsx)(g.IconButton,{m:1,icon:(0,re.jsx)(O.iBV,{}),"aria-label":"Close file-viewer",variant:"subtle",onClick:Le?Ne:Re})})]})})})}),(0,re.jsx)(u.Box,{position:"relative",zIndex:4,children:(0,re.jsx)(Ht,{isOpen:Le,onOpen:Re,onClose:Ne,previewNode:Se,setPreviewNode:ve,canUndo:Ce,canRedo:Oe,previousPreviewNode:ye,nextPreviewNode:je,resetPreviewNode:me,setSidebarHighlightedNode:Ie,openContextMenu:at,scope:v,setScope:y,windowWidth:Xe,tagColors:p,setTagColors:f,filter:N,setFilter:P,macros:ze.katexMacros,attachDir:ze.attachDir||"",useInheritance:ze.useInheritance||!1,nodeById:Pe.current,linksByNodeId:De.current,nodeByCite:Be.current})}),lt.isOpen&&(0,re.jsx)("div",{ref:Je,children:(0,re.jsx)(fe,{scope:v,target:et,background:!1,coordinates:rt,handleLocal:st,menuClose:lt.onClose.bind(lt),webSocket:Ye.current,setPreviewNode:ve,setFilter:P,filter:N,setTagColors:f,tagColors:p})})]})})}var ii=function(e){var t=e.graphRef,n=e.physics,a=e.graphData,c=e.threeDim,d=e.linksByNodeId,h=e.filter,g=e.emacsNodeId,b=e.nodeById,v=e.visuals,y=e.behavior,C=e.mouse,O=e.scope,S=e.local,k=(e.setScope,e.webSocket),I=e.tagColors,E=e.setPreviewNode,L=e.sidebarHighlightedNode,R=e.windowWidth,N=e.windowHeight,P=(e.setContextMenuTarget,e.openContextMenu),B=e.contextMenu,F=e.handleLocal,A=e.variables,T=e.clusterRef,z=e.coloring,H=A.dailyDir,M=(A.roamDir,(0,m.useState)(null)),G=M[0],_=M[1],W=(0,p.Fg)(),V=(0,m.useContext)(nt.N).emacsTheme,q=function(e,t,n){switch(e){case C.preview:E(t);break;case C.local:F(t,y.localSame);break;case C.follow:Y(t,k);break;case C.context:P(t,n)}},U=(0,m.useRef)(null);(0,m.useEffect)((function(){g&&_(b[g])}),[g]);var K=(0,m.useRef)({}),X=(0,m.useRef)({}),Q=(0,m.useMemo)((function(){var e;X.current={};var t=null===a||void 0===a||null===(e=a.nodes)||void 0===e?void 0:e.filter((function(e){var t,n,i,r,l=e;return h.dirsBlocklist.length&&h.dirsBlocklist.some((function(e){var t;return null===l||void 0===l||null===(t=l.file)||void 0===t?void 0:t.includes(e)}))||h.dirsAllowlist.length>0&&!h.dirsAllowlist.some((function(e){var t;return null===l||void 0===l||null===(t=l.file)||void 0===t?void 0:t.includes(e)}))||h.tagsBlacklist.length&&h.tagsBlacklist.some((function(e){var t;return(null===l||void 0===l||null===(t=l.tags)||void 0===t?void 0:t.indexOf(e))>-1}))||h.tagsWhitelist.length>0&&!h.tagsWhitelist.some((function(e){var t;return(null===l||void 0===l||null===(t=l.tags)||void 0===t?void 0:t.indexOf(e))>-1}))||h.filelessCites&&null!==l&&void 0!==l&&null!==(t=l.properties)&&void 0!==t&&t.FILELESS||null!==h&&void 0!==h&&h.bad&&null!==l&&void 0!==l&&null!==(n=l.properties)&&void 0!==n&&n.bad||h.dailies&&H&&null!==(i=l.file)&&void 0!==i&&i.includes(H)?(X.current=Qn(Qn({},X.current),{},(0,o.Z)({},l.id,l)),!1):!h.noter||null===(r=l.properties)||void 0===r||!r.NOTER_PAGE||(X.current=Qn(Qn({},X.current),{},(0,o.Z)({},l.id,l)),!1)})).filter((function(e){var t,n=(null!==(t=d[null===e||void 0===e?void 0:e.id])&&void 0!==t?t:[]).filter((function(e){return!X.current[e.source]&&!X.current[e.target]}));return!h.orphans||(h.parent?0!==n.length:0!==n.length&&n.some((function(e){return!["parent","heading"].includes(e.type)})))})),n=t.map((function(e){return e.id})),i=a.links.filter((function(e){var t=jt(e),i=(0,l.Z)(t,2),r=i[0],o=i[1];if(!n.includes(r)||!n.includes(o))return!1;var a=e;return h.parent?"heading"===h.parent?"parent"!==a.type:"heading"!==a.type:!["parent","heading"].includes(a.type)}));K.current=i.reduce((function(e,t){var n,i,a,s=t,c=jt(s),d=(0,l.Z)(c,2),u=d[0],h=d[1];return Qn(Qn({},e),{},(a={},(0,o.Z)(a,u,[].concat((0,r.Z)(null!==(n=e[u])&&void 0!==n?n:[]),[s])),(0,o.Z)(a,h,[].concat((0,r.Z)(null!==(i=e[h])&&void 0!==i?i:[]),[s])),a))}),{});var s=i.map((function(e){var t=jt(e),n=(0,l.Z)(t,2);return{target:n[0],source:n[1],weight:"cite"===e.type?1:2}}));if("community"===z.method){var c=j()().nodes(n).edges(s);T.current=c()}return{nodes:t,links:i}}),[h,a,z.method]),J=(0,m.useState)({nodes:[],links:[]}),$=J[0],ee=J[1];(0,m.useEffect)((function(){if(O.nodeIds.length){var e=O.nodeIds.length>1?$.nodes.filter((function(e){return!O.excludedNodeIds.includes(e.id)})):[],t=e.map((function(e){return e.id})),n=function(e){var t=e.ids,n=e.excludedIds,i=e.n,r=e.linksByNodeId,o=[t[0]],a=[],s=[t[0]];return Array.from({length:i},(function(){o.forEach((function(e){var t;(null!==(t=r[e])&&void 0!==t?t:[]).forEach((function(e){var t=jt(e),i=(0,l.Z)(t,2),r=i[0],o=i[1];n.some((function(e){return[r,o].includes(e)}))||(s.includes(r)?s.includes(o)||a.push(o):a.push(r))}))})),o=a,a.forEach((function(e){return e&&s.push(e)})),a=[]})),s}({ids:O.nodeIds,excludedIds:O.excludedNodeIds,n:S.neighbors,linksByNodeId:K.current}),i=Q.nodes.filter((function(i){var r;return e.length?!t.includes(i.id)&&(null!==(r=K.current[i.id])&&void 0!==r?r:[]).some((function(e){var t=jt(e),n=(0,l.Z)(t,2),i=n[0],r=n[1];return!O.excludedNodeIds.includes(i)&&!O.excludedNodeIds.includes(r)&&(O.nodeIds.includes(i)||O.nodeIds.includes(r))})):n.includes(i.id)})).map((function(e){return Qn(Qn({},e),{},{x:0,y:0,vy:0,vx:0})})),o=[].concat((0,r.Z)(e),(0,r.Z)(i)),a=o.map((function(e){return e.id})),s=(O.nodeIds.length>1?$.links:[]).filter((function(e){O.excludedNodeIds.some((function(t){return jt(e).includes(t)}))})),c=Q.links.filter((function(e){var n=jt(e),i=(0,l.Z)(n,2),r=i[0],o=i[1];return!(s.length&&t.includes(o)&&t.includes(r))&&(a.includes(r)&&a.includes(o))})).map((function(e){var t=jt(e),n=(0,l.Z)(t,2);return{source:n[0],target:n[1]}})),d=[].concat((0,r.Z)(s),(0,r.Z)(c));ee({nodes:o,links:d})}}),[S.neighbors,h,O,O.excludedNodeIds,O.nodeIds,a,Q.links,Q.nodes]),(0,m.useEffect)((function(){(0,i.Z)(s().mark((function e(){var i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.current,e.next=3,Jn;case 3:r=e.sent,!n.gravityOn||O.nodeIds.length&&!n.gravityLocal?(i.d3Force("x",null),i.d3Force("y",null),c&&i.d3Force("z",null)):(i.d3Force("x",r.forceX().strength(n.gravity)),i.d3Force("y",r.forceY().strength(n.gravity)),c&&i.d3Force("z",r.forceZ().strength(n.gravity))),n.centering?i.d3Force("center",r.forceCenter().strength(n.centeringStrength)):i.d3Force("center",null),n.linkStrength&&i.d3Force("link").strength(n.linkStrength),n.linkIts&&i.d3Force("link").iterations(n.linkIts),n.charge&&i.d3Force("charge").strength(n.charge),i.d3Force("collide",n.collision?r.forceCollide().radius(n.collisionStrength):null);case 10:case"end":return e.stop()}}),e)})))()}),[n,c,O]),(0,m.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.d3ReheatSimulation()}),[n,O.nodeIds.length]);var te=(0,m.useRef)(0),ne=(0,m.useState)(1),ie=ne[0],oe=ne[1],le=(0,f._7)((function(e){return oe(e)}),{duration:v.animationSpeed,algorithm:D[v.algorithmName]}),ae=(0,l.Z)(le,2),se=ae[0],ce=ae[1],de=(0,f._7)((function(e){return oe(Math.min(ie,-1*(e-1)))}),{duration:v.animationSpeed,algorithm:D[v.algorithmName]}),ue=(0,l.Z)(de,2),he=ue[0],ge=ue[1],pe=(0,m.useMemo)((function(){var e;if(!U.current)return{};var t=K.current[U.current.id];return t?Object.fromEntries([null===(e=U.current)||void 0===e?void 0:e.id].concat((0,r.Z)(t.flatMap((function(e){return[e.source,e.target]})))).map((function(e){return[e,{}]}))):{}}),[U.current,K.current]);(0,m.useEffect)((function(){null!==L&&void 0!==L&&L.id?_(L):_(null)}),[L]);var fe=(0,m.useRef)(null);(0,m.useEffect)((function(){if(U.current=G,G&&(fe.current=G),!v.highlightAnim)return oe(G?1:0);G?se():(ce(),ie>.5?he():oe(0))}),[G]);var be=(0,m.useMemo)((function(){return Object.fromEntries(Z.map((function(e){var t=at(e,W),n=Z.map((function(e){return[e,x.Z(t,at(e,W))]}));return[e,Object.fromEntries(n)]})))}),[V]),xe=(0,m.useMemo)((function(){var e,t,n,i=null!==(e=K.current[null===(t=fe.current)||void 0===t?void 0:t.id])&&void 0!==e?e:[];return Object.fromEntries([null===(n=fe.current)||void 0===n?void 0:n.id].concat((0,r.Z)(i.flatMap((function(e){return jt(e)})))).map((function(e){return[e,{}]})))}),[JSON.stringify(G),fe.current,K.current]),ve=(0,m.useMemo)((function(){return at(v.labelTextColor,W)}),[v.labelTextColor,V]),me=(0,m.useMemo)((function(){return at(v.labelBackgroundColor,W)}),[v.labelBackgroundColor,V]),ye=(0,m.useState)(!1),je=ye[0],Ce=ye[1],Oe=(0,m.useRef)(1),Se={graphData:O.nodeIds.length?$:Q,width:R,height:N,backgroundColor:at(v.backgroundColor,W),warmupTicks:1===O.nodeIds.length?100:O.nodeIds.length>1?20:0,onZoom:function(e){var t=e.k;e.x,e.y;return Oe.current=t},nodeColor:function(e){return function(e){var t,n,i=e.node,r=e.theme,o=e.highlightedNodes,l=e.previouslyHighlightedNodes,a=e.visuals,s=e.tagColors,c=e.highlightColors,d=e.opacity,u=e.emacsNodeId,h=e.linksByNodeId,g=e.cluster,p=e.coloring,f=o[i.id]||l[i.id];if(a.emacsNodeColor&&i.id===u)return at(a.emacsNodeColor,r);if(s&&null!==i&&void 0!==i&&i.tags.some((function(e){return s[e]}))){var b=s[null===i||void 0===i?void 0:i.tags.filter((function(e){return s[e]}))[0]];return f?c[b][b](a.highlightFade*d):c[b][a.backgroundColor](a.highlightFade*d)}return a.citeNodeColor&&null!==i&&void 0!==i&&null!==(t=i.properties)&&void 0!==t&&t.ROAM_REFS&&null!==i&&void 0!==i&&null!==(n=i.properties)&&void 0!==n&&n.FILELESS?f?at(a.citeNodeColor,r):c[a.citeNodeColor][a.backgroundColor](a.highlightFade*d):a.refNodeColor&&i.properties.ROAM_REFS?f?at(a.refNodeColor,r):c[a.refNodeColor][a.backgroundColor](a.highlightFade*d):f?a.nodeHighlight?c[qn({id:i.id,cluster:g,coloring:p,linksByNodeId:h,visuals:a})][a.nodeHighlight](d):at(qn({id:i.id,cluster:g,coloring:p,linksByNodeId:h,visuals:a}),r):c[qn({id:i.id,cluster:g,coloring:p,linksByNodeId:h,visuals:a})][a.backgroundColor](a.highlightFade*d)}({node:e,theme:W,visuals:v,cluster:T.current,coloring:z,emacsNodeId:g,highlightColors:be,highlightedNodes:pe,previouslyHighlightedNodes:xe,linksByNodeId:K.current,opacity:ie,tagColors:I})},nodeRelSize:v.nodeRel,nodeVal:function(e){return Wn({node:e,highlightedNodes:pe,linksByNodeId:K.current,opacity:ie,previouslyHighlightedNodes:xe,visuals:v})/Math.pow(Oe.current,v.nodeZoomSize)},nodeCanvasObject:function(e,t,n){Yn(Qn({nodeRel:v.nodeRel,filteredLinksByNodeId:K.current,lastHoverNode:fe.current},{node:e,ctx:t,globalScale:n,highlightedNodes:pe,previouslyHighlightedNodes:xe,visuals:v,opacity:ie,labelTextColor:ve,labelBackgroundColor:me,hoverNode:G}))},nodeCanvasObjectMode:function(){return"after"},linkDirectionalParticles:v.particles?v.particlesNumber:void 0,linkDirectionalArrowLength:v.arrows?v.arrowsLength:void 0,linkDirectionalArrowRelPos:v.arrowsPos,linkDirectionalArrowColor:v.arrowsColor?function(){return at(v.arrowsColor,W)}:void 0,linkColor:function(e){var t,n="object"===typeof e.source?e.source.id:e.source,i="object"===typeof e.target?e.target.id:e.target,r=Un(e,U.current),o=Un(e,fe.current),l=r||o,a=e;return v.refLinkColor&&"ref"===a.type?l&&(v.refLinkHighlightColor||v.linkHighlight)?be[v.refLinkColor][v.refLinkHighlightColor||v.linkHighlight](ie):be[v.refLinkColor][v.backgroundColor](v.highlightFade*ie):v.citeLinkColor&&null!==(t=a.type)&&void 0!==t&&t.includes("cite")?l&&(v.citeLinkHighlightColor||v.linkHighlight)?be[v.citeLinkColor][v.citeLinkHighlightColor||v.linkHighlight](ie):be[v.citeLinkColor][v.backgroundColor](v.highlightFade*ie):function(e){var t=e.sourceId,n=e.targetId,i=e.needsHighlighting,r=e.theme,o=e.visuals,l=e.highlightColors,a=e.opacity,s=e.linksByNodeId,c=e.coloring,d=e.cluster;if(!o.linkHighlight&&!o.linkColorScheme&&!i){var u=Kn({sourceId:t,targetId:n,linksByNodeId:s,visuals:o,coloring:c,cluster:d});return at(u,r)}if(!i&&!o.linkColorScheme)return l[Kn({sourceId:t,targetId:n,linksByNodeId:s,visuals:o,coloring:c,cluster:d})][o.backgroundColor](o.highlightFade*a);if(!i)return l[o.linkColorScheme][o.backgroundColor](o.highlightFade*a);if(!o.linkHighlight&&!o.linkColorScheme){var h=Kn({sourceId:t,targetId:n,linksByNodeId:s,visuals:o,coloring:c,cluster:d});return at(h,r)}return o.linkHighlight?o.linkColorScheme?l[o.linkColorScheme][o.linkHighlight](a):l[Kn({sourceId:t,targetId:n,linksByNodeId:s,visuals:o,coloring:c,cluster:d})][o.linkHighlight](a):at(o.linkColorScheme,r)}({sourceId:n,targetId:i,needsHighlighting:l,theme:W,cluster:T.current,coloring:z,highlightColors:be,linksByNodeId:K.current,opacity:ie,visuals:v})},linkWidth:function(e){if(1===v.highlightLinkSize)return v.linkWidth;var t=Un(e,U.current),n=Un(e,fe.current);return t||n?v.linkWidth*(1+ie*(v.highlightLinkSize-1)):v.linkWidth},linkDirectionalParticleWidth:v.particlesWidth,d3AlphaDecay:n.alphaDecay,d3AlphaMin:n.alphaMin,d3VelocityDecay:n.velocityDecay,onNodeClick:function(e,t){var n=e,i=t.timeStamp-te.current<200;if(te.current=t.timeStamp,i)return q("double",n,t);var r=te.current;return setTimeout((function(){if(te.current===r)return q("click",n,t)}),200)},onNodeHover:function(e){v.highlight&&(je||(G||(ge(),oe(0)),_(e)))},onNodeRightClick:function(e,t){q("right",e,t)},onNodeDrag:function(e){_(e),Ce(!0)},onNodeDragEnd:function(){_(null),Ce(!1)}};return(0,re.jsx)(u.Box,{overflow:"hidden",onClick:B.onClose,children:c?(0,re.jsx)(ei,Qn(Qn({ref:t},Se),{},{nodeThreeObjectExtend:!0,nodeOpacity:v.nodeOpacity,nodeResolution:v.nodeResolution,linkOpacity:v.linkOpacity,nodeThreeObject:function(e){if(v.labels&&(!(v.labels<3)||pe[e.id])){var t=new w.Z(e.title.substring(0,40));return t.color=at(v.labelTextColor,W),t.backgroundColor=at(v.labelBackgroundColor,W),t.padding=2,t.textHeight=8,t}}})):(0,re.jsx)($n,Qn(Qn({ref:t},Se),{},{linkLineDash:function(e){var t,n=e;return v.citeDashes&&null!==(t=n.type)&&void 0!==t&&t.includes("cite")?[v.citeDashLength,v.citeGapLength]:v.refDashes&&"ref"==n.type?[v.refDashLength,v.refGapLength]:null}}))})}},45301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(58382)}])}},function(e){e.O(0,[774,737,876,228,866,13,874,573,446,879,888,179],(function(){return t=45301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);