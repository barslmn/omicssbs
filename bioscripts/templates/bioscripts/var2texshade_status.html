{% extends "bioscripts/base.html" %} {% block content %}
<div class="container mt-5 text-center">
  <div class="card shadow-sm p-5 mx-auto" style="max-width: 600px">
    {% if status == "running" %}
    <meta http-equiv="refresh" content="2" />

    <h3 class="mb-4">Processing Alignment...</h3>
    <div
      class="spinner-border text-primary"
      role="status"
      style="width: 3rem; height: 3rem"
    >
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-3 text-muted">
      Fetching sequences, aligning (ClustalO), and rendering PDF (TeXshade).<br />
      This may take 10-30 seconds.
    </p>
    <p class="small text-muted">Job ID: {{ job_id }}</p>

    {% elif status == "finished" %}
    <h3 class="text-success mb-4">Success!</h3>
    <p>Your alignment visualization is ready.</p>

    <a
      href="{% url 'bioscripts:var2texshade_download' job_id %}"
      class="btn btn-success btn-lg"
    >
      <i class="bi bi-download"></i> Download PDF
    </a>

    <br /><br />
    <a href="{% url 'bioscripts:var2texshade' %}" class="btn btn-link"
      >Create Another</a
    >

    {% elif status == "error" %}
    <h3 class="text-danger mb-3">Error</h3>
    <p>{{ error_msg }}</p>
    <a href="{% url 'bioscripts:var2texshade' %}" class="btn btn-secondary"
      >Try Again</a
    >
    {% endif %}
  </div>
</div>
{% endblock %}
